# -*- coding: utf-8 -*-

import os
import logging
import random
import io
from datetime import datetime
from telegram import (
    Update,
    InlineKeyboardButton,
    InlineKeyboardMarkup,
    ChatMember,
    ChatMemberUpdated,
)
from telegram.ext import (
    Application,
    CommandHandler,
    ContextTypes,
    MessageHandler,
    filters,
    CallbackQueryHandler,
    ChatMemberHandler,
    ConversationHandler,
)
from telegram.constants import ParseMode
import psycopg2
from PIL import Image, ImageDraw, ImageFont
import arabic_reshaper
from bidi.algorithm import get_display
import time

# --- Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ø§ØµÙ„ÛŒ ---
OWNER_IDS = [7662192190, 6041119040] # Ø¢ÛŒØ¯ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¹Ø¯Ø¯ÛŒ Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø±Ø¨Ø§Øª
SUPPORT_USERNAME = "OLDKASEB" # ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø¨Ø¯ÙˆÙ† @
FORCED_JOIN_CHANNEL = "@RHINOSOUL_TM" # Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ø§ @
GROUP_INSTALL_LIMIT = 50 # Ø­Ø¯Ø§Ú©Ø«Ø± ØªØ¹Ø¯Ø§Ø¯ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø±Ø¨Ø§Øª Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø¯ Ø¯Ø± Ø¢Ù†â€ŒÙ‡Ø§ Ù†ØµØ¨ Ø´ÙˆØ¯
INITIAL_LIVES = 12 # ØªØ¹Ø¯Ø§Ø¯ Ø¬Ø§Ù† Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ú©Ù„Ù…Ù‡

# --- ØªØ¹Ø±ÛŒÙ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ù…Ú©Ø§Ù„Ù…Ù‡ ---
# Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú†
ASKING_GOD_USERNAME, CONFIRMING_GOD = range(2)
# Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯
SELECTING_RANGE, GUESSING = range(2, 4)
# Ø¨Ø±Ø§ÛŒ Ø§Ø¹ØªØ±Ø§Ù Ø³ÙØ§Ø±Ø´ÛŒ
ENTERING_ETERAF_TEXT = range(4, 5)

# --- Ù„ÛŒØ³Øª Ú©Ù„Ù…Ø§Øª Ùˆ Ø¬Ù…Ù„Ø§Øª (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ---
WORD_LIST = [
    "ÙØ¶Ø§Ù¾ÛŒÙ…Ø§", "Ú©Ù‡Ú©Ø´Ø§Ù†", "Ø§Ù„Ú¯ÙˆØ±ÛŒØªÙ…", "Ú©ØªØ§Ø¨Ø®Ø§Ù†Ù‡", "Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡", "Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±", "Ø§ÛŒÙ†ØªØ±Ù†Øª", "Ø¨Ø±Ù†Ø§Ù…Ù‡", "Ù†ÙˆÛŒØ³ÛŒ", "Ù‡ÙˆØ´", "Ù…ØµÙ†ÙˆØ¹ÛŒ", "ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ", "Ù…Ø§Ø´ÛŒÙ†", "Ø´Ø¨Ú©Ù‡", "Ø¹ØµØ¨ÛŒ", "Ø¯Ø§Ø¯Ù‡", "Ú©Ø§ÙˆÛŒ", "Ù¾Ø§ÛŒØªÙˆÙ†", "Ø¬Ø§ÙˆØ§", "Ø§Ø³Ú©Ø±ÛŒÙ¾Øª", 
    "ÙÙ†Ø§ÙˆØ±ÛŒ", "Ø§Ø·Ù„Ø§Ø¹Ø§Øª", "Ø§Ù…Ù†ÛŒØª", "Ø³Ø§ÛŒØ¨Ø±ÛŒ", "Ø­Ù…Ù„Ù‡", "ÙˆÛŒØ±ÙˆØ³", "Ø¨Ø¯Ø§ÙØ²Ø§Ø±", "Ø¢Ù†ØªÛŒ", "ÙˆÛŒØ±ÙˆØ³", "Ø¯ÛŒÙˆØ§Ø±", "Ø¢ØªØ´", "Ø±Ù…Ø²Ù†Ú¯Ø§Ø±ÛŒ", "Ù¾Ø±ÙˆØªÚ©Ù„", "Ø¯Ø§Ù…Ù†Ù‡", "Ù…ÛŒØ²Ø¨Ø§Ù†ÛŒ", "ÙˆØ¨", "Ø³Ø±ÙˆØ±", "Ú©Ù„Ø§ÛŒÙ†Øª", "Ù¾Ø§ÛŒÚ¯Ø§Ù‡", "Ø¯Ø§Ø¯Ù‡", 
    "Ø±Ø§Ø¨Ø·", "Ú©Ø§Ø±Ø¨Ø±ÛŒ", "ØªØ¬Ø±Ø¨Ù‡", "Ú©Ø§Ø±Ø¨Ø±ÛŒ", "Ø·Ø±Ø§Ø­ÛŒ", "Ú¯Ø±Ø§ÙÛŒÚ©", "Ø§Ù†ÛŒÙ…ÛŒØ´Ù†", "Ø³Ù‡", "Ø¨Ø¹Ø¯ÛŒ", "ÙˆØ§Ù‚Ø¹ÛŒØª", "Ù…Ø¬Ø§Ø²ÛŒ", "Ø§ÙØ²ÙˆØ¯Ù‡", "Ø¨Ù„Ø§Ú©Ú†ÛŒÙ†", "Ø§Ø±Ø²", "Ø¯ÛŒØ¬ÛŒØªØ§Ù„", "Ø¨ÛŒØªÚ©ÙˆÛŒÙ†", "Ø§ØªØ±ÛŒÙˆÙ…", "Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯", "Ù‡ÙˆØ´Ù…Ù†Ø¯", "Ù…ØªØ§ÙˆØ±Ø³", 
    "Ø§Ø´ÛŒØ§Ø¡", "Ø±Ø¨Ø§ØªÛŒÚ©", "Ø®ÙˆØ¯Ø±Ùˆ", "Ø®ÙˆØ¯Ø±Ø§Ù†", "Ù¾Ù‡Ù¾Ø§Ø¯", "Ø³Ù†Ø³ÙˆØ±", "Ù¾Ø±Ø¯Ø§Ø²Ø´", "ØªØµÙˆÛŒØ±", "Ø³ÛŒÚ¯Ù†Ø§Ù„", "Ù…Ø®Ø§Ø¨Ø±Ø§Øª", "Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡", "ÙØ±Ú©Ø§Ù†Ø³", "Ù…ÙˆØ¬", "Ø§Ù„Ú©ØªØ±ÙˆÙ…ØºÙ†Ø§Ø·ÛŒØ³", "ÙÛŒØ²ÛŒÚ©", "Ú©ÙˆØ§Ù†ØªÙˆÙ…", "Ù†Ø³Ø¨ÛŒØª", "Ø§Ù†ÛŒØ´ØªÛŒÙ†", "Ù†ÛŒÙˆØªÙ†", 
    "Ú¯Ø±Ø§Ù†Ø´", "Ø³ÛŒØ§Ù‡Ú†Ø§Ù„Ù‡", "Ø³ØªØ§Ø±Ù‡", "Ù†ÙˆØªØ±ÙˆÙ†ÛŒ", "Ø§Ù†ÙØ¬Ø§Ø±", "Ø¨Ø²Ø±Ú¯", "Ú©ÛŒÙ‡Ø§Ù†", "Ø´Ù†Ø§Ø³ÛŒ", "Ø§Ø®ØªØ±", "ÙÛŒØ²ÛŒÚ©", "Ø´ÛŒÙ…ÛŒ", "Ø¢Ù„ÛŒ", "Ù…Ø¹Ø¯Ù†ÛŒ", "ØªØ¬Ø²ÛŒÙ‡", "Ø¨ÛŒÙˆØ´ÛŒÙ…ÛŒ", "Ú˜Ù†ØªÛŒÚ©", "Ø³Ù„ÙˆÙ„", "Ø¨Ø§ÙØª", "Ø§Ø±Ú¯Ø§Ù†", "Ù…ØªØ§Ø¨ÙˆÙ„ÛŒØ³Ù…", 
    "ÙØªÙˆØ³Ù†ØªØ²", "ØªÙ†ÙØ³", "Ø³Ù„ÙˆÙ„ÛŒ", "Ø²ÛŒØ³Øª", "Ø´Ù†Ø§Ø³ÛŒ", "Ù…ÛŒÚ©Ø±ÙˆØ¨ÛŒÙˆÙ„ÙˆÚ˜ÛŒ", "Ø¨Ø§Ú©ØªØ±ÛŒ", "Ù‚Ø§Ø±Ú†", "Ù¾Ø²Ø´Ú©ÛŒ", "Ø¯Ø§Ø±ÙˆØ³Ø§Ø²ÛŒ", "Ø¬Ø±Ø§Ø­ÛŒ", "Ù‚Ù„Ø¨", "Ù…ØºØ²", "Ø§Ø¹ØµØ§Ø¨", "Ø±ÙˆØ§Ù†Ø´Ù†Ø§Ø³ÛŒ", "Ø¬Ø§Ù…Ø¹Ù‡", "Ø´Ù†Ø§Ø³ÛŒ", "Ø§Ù‚ØªØµØ§Ø¯", "Ø¨Ø§Ø²Ø§Ø±", 
    "Ø³Ø±Ù…Ø§ÛŒÙ‡", "Ø¨ÙˆØ±Ø³", "Ø³Ù‡Ø§Ù…", "ØªÙˆØ±Ù…", "Ø±Ú©ÙˆØ¯", "Ø±Ø´Ø¯", "Ø§Ù‚ØªØµØ§Ø¯ÛŒ", "ØªÙˆÙ„ÛŒØ¯", "Ù†Ø§Ø®Ø§Ù„Øµ", "Ø¯Ø§Ø®Ù„ÛŒ", "ØµØ§Ø¯Ø±Ø§Øª", "ÙˆØ§Ø±Ø¯Ø§Øª", "ØªØ¬Ø§Ø±Øª", "Ø¨ÛŒÙ†", "Ø§Ù„Ù…Ù„Ù„", "Ø³ÛŒØ§Ø³Øª", "Ø¯Ù…ÙˆÚ©Ø±Ø§Ø³ÛŒ", "Ø¯ÛŒÚ©ØªØ§ØªÙˆØ±ÛŒ", "Ø¬Ù…Ù‡ÙˆØ±ÛŒ", "Ù¾Ø§Ø¯Ø´Ø§Ù‡ÛŒ", 
    "Ø§Ù†ØªØ®Ø§Ø¨Ø§Øª", "Ù¾Ø§Ø±Ù„Ù…Ø§Ù†", "Ø¯ÙˆÙ„Øª", "Ù‚ÙˆÙ‡", "Ù‚Ø¶Ø§Ø¦ÛŒÙ‡", "ØªØ§Ø±ÛŒØ®", "Ø¨Ø§Ø³ØªØ§Ù†", "Ù…Ø¹Ø§ØµØ±", "Ø¬Ù†Ú¯", "Ø¬Ù‡Ø§Ù†ÛŒ", "ØµÙ„ÛŒØ¨ÛŒ", "Ø±Ù†Ø³Ø§Ù†Ø³", "Ø§ØµÙ„Ø§Ø­Ø§Øª", "Ø¯ÛŒÙ†ÛŒ", "Ø§Ù†Ù‚Ù„Ø§Ø¨", "ØµÙ†Ø¹ØªÛŒ", "ÙÙ„Ø³ÙÙ‡", "Ù…Ù†Ø·Ù‚", "Ø§Ø®Ù„Ø§Ù‚", "Ø²ÛŒØ¨Ø§ÛŒÛŒ", 
    "Ø´Ù†Ø§Ø³ÛŒ", "Ø§ÙÙ„Ø§Ø·ÙˆÙ†", "Ø§Ø±Ø³Ø·Ùˆ", "Ø³Ù‚Ø±Ø§Ø·", "Ø¯Ú©Ø§Ø±Øª", "Ú©Ø§Ù†Øª", "Ù†ÛŒÚ†Ù‡", "Ø§Ø¯Ø¨ÛŒØ§Øª", "Ø´Ø¹Ø±", "Ø±Ù…Ø§Ù†", "Ø¯Ø§Ø³ØªØ§Ù†", "Ú©ÙˆØªØ§Ù‡", "Ù†Ù…Ø§ÛŒØ´Ù†Ø§Ù…Ù‡", "Ø­Ø§ÙØ¸", "Ø³Ø¹Ø¯ÛŒ", "ÙØ±Ø¯ÙˆØ³ÛŒ", "Ù…ÙˆÙ„Ø§Ù†Ø§", "Ø®ÛŒØ§Ù…", "Ø´Ú©Ø³Ù¾ÛŒØ±", "ØªÙˆÙ„Ø³ØªÙˆÛŒ", 
    "Ø¯Ø§Ø³ØªØ§ÛŒÙˆÙØ³Ú©ÛŒ", "Ù‡Ù†Ø±", "Ù†Ù‚Ø§Ø´ÛŒ", "Ù…Ø¬Ø³Ù…Ù‡", "Ø³Ø§Ø²ÛŒ", "Ù…Ø¹Ù…Ø§Ø±ÛŒ", "Ù…ÙˆØ³ÛŒÙ‚ÛŒ", "Ø³ÛŒÙ†Ù…Ø§", "ØªØ¦Ø§ØªØ±", "Ø¹Ú©Ø§Ø³ÛŒ", "Ø®ÙˆØ±Ø´ÛŒØ¯", "Ø³ÛŒØ§Ø±Ù‡", "Ù…Ø±ÛŒØ®", "Ø²Ù…ÛŒÙ†", "Ù…Ø´ØªØ±ÛŒ", "Ø§ÙˆØ±Ø§Ù†ÙˆØ³", "Ù†Ù¾ØªÙˆÙ†", "Ø²Ù‡Ø±Ù‡", "Ø¹Ø·Ø§Ø±Ø¯", "Ø³ØªØ§Ø±Ù‡", 
    "Ø¯Ù†Ø¨Ø§Ù„Ù‡", "Ø¯Ø§Ø±", "Ø´Ù‡Ø§Ø¨", "Ø³Ù†Ú¯", "ØµÙˆØ±Øª", "ÙÙ„Ú©ÛŒ", "ØªÙ„Ø³Ú©ÙˆÙ¾", "Ø±ØµØ¯Ø®Ø§Ù†Ù‡", "ÙÛŒØ²ÛŒÚ©Ø¯Ø§Ù†", "Ø´ÛŒÙ…ÛŒØ¯Ø§Ù†", "Ø²ÛŒØ³Øª", "Ø´Ù†Ø§Ø³", "Ø±ÛŒØ§Ø¶ÛŒØ§Øª", "Ù‡Ù†Ø¯Ø³Ù‡", "Ø¬Ø¨Ø±", "Ù…Ø«Ù„Ø«Ø§Øª", "Ø­Ø³Ø§Ø¨Ø§Ù†", "Ø¯ÛŒÙØ±Ø§Ù†Ø³ÛŒÙ„", "Ø§Ù†ØªÚ¯Ø±Ø§Ù„", "Ø¢Ù…Ø§Ø±", 
    "Ø§Ø­ØªÙ…Ø§Ù„", "Ù…Ø§ØªØ±ÛŒØ³", "Ø¨Ø±Ø¯Ø§Ø±", "Ø§Ù‚Ù„ÛŒØ¯Ø³", "ÙÛŒØ«Ø§ØºÙˆØ±Ø³", "Ø®ÙˆØ§Ø±Ø²Ù…ÛŒ", "Ø§Ø¨Ù†", "Ø³ÛŒÙ†Ø§", "Ø±Ø§Ø²ÛŒ", "Ø¨ÛŒØ±ÙˆÙ†ÛŒ", "Ø¹Ù†ØµØ±", "Ø¬Ø¯ÙˆÙ„", "ØªÙ†Ø§ÙˆØ¨ÛŒ", "Ø§ØªÙ…", "Ù…ÙˆÙ„Ú©ÙˆÙ„", "ÛŒÙˆÙ†", "Ø§ÛŒØ²ÙˆØªÙˆÙ¾", "ÙˆØ§Ú©Ù†Ø´", "Ø´ÛŒÙ…ÛŒØ§ÛŒÛŒ", "Ú©Ø§ØªØ§Ù„ÛŒØ²ÙˆØ±", 
    "Ø¢Ù†Ø²ÛŒÙ…", "Ù¾Ø±ÙˆØªØ¦ÛŒÙ†", "Ú©Ø±Ø¨ÙˆÙ‡ÛŒØ¯Ø±Ø§Øª", "Ù„ÛŒÙ¾ÛŒØ¯", "ÙˆÛŒØªØ§Ù…ÛŒÙ†", "Ù…Ø§Ø¯Ù‡", "Ù…Ø¹Ø¯Ù†ÛŒ", "Ø¯ÛŒ", "Ø§Ù†", "Ø§ÛŒ", "Ú˜Ù†", "Ú©Ø±ÙˆÙ…ÙˆØ²ÙˆÙ…", "Ø¬Ù‡Ø´", "ØªÚ©Ø§Ù…Ù„", "Ø¯Ø§Ø±ÙˆÛŒÙ†", "Ù„Ø§Ù…Ø§Ø±Ú©", "Ù…Ø­ÛŒØ·", "Ø²ÛŒØ³Øª", "Ø§Ú©ÙˆØ³ÛŒØ³ØªÙ…", "Ø¢Ù„ÙˆØ¯Ú¯ÛŒ", "Ú¯Ø±Ù…Ø§ÛŒØ´", 
    "Ø¬Ù‡Ø§Ù†ÛŒ", "Ø¨Ø§Ø²ÛŒØ§ÙØª", "Ø§Ù†Ø±Ú˜ÛŒ", "ØªØ¬Ø¯ÛŒØ¯Ù¾Ø°ÛŒØ±", "Ø®ÙˆØ±Ø´ÛŒØ¯ÛŒ", "Ø¨Ø§Ø¯ÛŒ", "Ø¨Ø±Ù‚", "Ø¢Ø¨ÛŒ", "Ø²Ù…ÛŒÙ†", "Ú¯Ø±Ù…Ø§ÛŒÛŒ", "Ø¬Ù†Ú¯Ù„", "Ø¨ÛŒØ§Ø¨Ø§Ù†", "Ø§Ù‚ÛŒØ§Ù†ÙˆØ³", "Ø¯Ø±ÛŒØ§", "Ø±ÙˆØ¯Ø®Ø§Ù†Ù‡", "Ø¯Ø±ÛŒØ§Ú†Ù‡", "Ú©ÙˆÙ‡Ø³ØªØ§Ù†", "Ø¢ØªØ´ÙØ´Ø§Ù†", "Ø²Ù„Ø²Ù„Ù‡", "Ø³ÙˆÙ†Ø§Ù…ÛŒ", 
    "Ø·ÙˆÙØ§Ù†", "Ú¯Ø±Ø¯Ø¨Ø§Ø¯", "Ø®Ø´Ú©Ø³Ø§Ù„ÛŒ", "Ø³ÛŒÙ„", "Ù‚Ø§Ø±Ù‡", "Ø¢Ø³ÛŒØ§", "Ø§Ø±ÙˆÙ¾Ø§", "Ø¢ÙØ±ÛŒÙ‚Ø§", "Ø¢Ù…Ø±ÛŒÚ©Ø§", "Ø§Ù‚ÛŒØ§Ù†ÙˆØ³ÛŒÙ‡", "Ù‚Ø·Ø¨", "Ø´Ù…Ø§Ù„", "Ø¬Ù†ÙˆØ¨", "Ø§Ø³ØªÙˆØ§", "Ù†ØµÙ", "Ø§Ù„Ù†Ù‡Ø§Ø±", "Ù…Ø¯Ø§Ø±", "Ø¬ØºØ±Ø§ÙÛŒØ§", "Ù†Ù‚Ø´Ù‡", "Ù‚Ø·Ø¨", "Ù†Ù…Ø§", 
    "ØªÙ…Ø¯Ù†", "Ù…ØµØ±", "ÛŒÙˆÙ†Ø§Ù†", "Ø±ÙˆÙ…", "Ø§ÛŒØ±Ø§Ù†", "Ú†ÛŒÙ†", "Ù‡Ù†Ø¯", "Ø¨ÛŒÙ†", "Ø§Ù„Ù†Ù‡Ø±ÛŒÙ†", "Ø³ÙˆÙ…Ø±", "Ø¨Ø§Ø¨Ù„", "Ø¢Ø´ÙˆØ±", "Ù‡Ø®Ø§Ù…Ù†Ø´ÛŒØ§Ù†", "Ø§Ø´Ú©Ø§Ù†ÛŒØ§Ù†", "Ø³Ø§Ø³Ø§Ù†ÛŒØ§Ù†", "Ø§Ø³Ù„Ø§Ù…", "Ù…ØºÙˆÙ„", "ØµÙÙˆÛŒÙ‡", "Ù‚Ø§Ø¬Ø§Ø±", "Ù¾Ù‡Ù„ÙˆÛŒ", "Ø¬Ù…Ù‡ÙˆØ±ÛŒ", 
    "Ø§Ø³Ù„Ø§Ù…ÛŒ", "Ø§Ø³Ø·ÙˆØ±Ù‡", "Ø§ÙØ³Ø§Ù†Ù‡", "Ø­Ù…Ø§Ø³Ù‡", "Ø±Ø³ØªÙ…", "Ø³Ù‡Ø±Ø§Ø¨", "Ø§Ø³ÙÙ†Ø¯ÛŒØ§Ø±", "Ø³ÛŒÙ…Ø±Øº", "Ø¶Ø­Ø§Ú©", "Ú©Ø§ÙˆÙ‡", "Ø¢Ù‡Ù†Ú¯Ø±", "Ú¯ÛŒÙ„Ú¯Ù…Ø´", "Ù‡Ø±Ú©ÙˆÙ„", "Ø²Ø¦ÙˆØ³", "Ø¢Ù¾ÙˆÙ„Ùˆ", "Ù¾ÙˆØ²ÛŒØ¯ÙˆÙ†", "Ù‡Ø±Ù…Ø³", "Ø¢ÙØ±ÙˆØ¯ÛŒØª", "Ø¬Ø´Ù†ÙˆØ§Ø±Ù‡", "Ú©Ø§Ø±Ù†Ø§ÙˆØ§Ù„", 
    "ÙØ³ØªÛŒÙˆØ§Ù„", "Ø§Ù„Ù…Ù¾ÛŒÚ©", "Ø¬Ø§Ù…", "Ø¬Ù‡Ø§Ù†ÛŒ", "ÙÙˆØªØ¨Ø§Ù„", "Ø¨Ø³Ú©ØªØ¨Ø§Ù„", "ÙˆØ§Ù„ÛŒØ¨Ø§Ù„", "Ú©Ø´ØªÛŒ", "ÙˆØ²Ù†Ù‡", "Ø¨Ø±Ø¯Ø§Ø±ÛŒ", "Ø¯Ùˆ", "Ù…ÛŒØ¯Ø§Ù†ÛŒ", "Ø´Ù†Ø§", "Ú˜ÛŒÙ…Ù†Ø§Ø³ØªÛŒÚ©", "ÙˆØ±Ø²Ø´Ú¯Ø§Ù‡", "Ø§Ø³ØªØ§Ø¯ÛŒÙˆÙ…", "Ù‚Ù‡Ø±Ù…Ø§Ù†", "Ù…Ø¯Ø§Ù„", "Ø·Ù„Ø§", "Ù†Ù‚Ø±Ù‡", "Ø¨Ø±Ù†Ø²", 
    "Ø±Ú©ÙˆØ±Ø¯", "Ù¾Ø§ÛŒØªØ®Øª", "ØªÙ‡Ø±Ø§Ù†", "Ù¾Ø§Ø±ÛŒØ³", "Ù„Ù†Ø¯Ù†", "Ø±Ù…", "Ù†ÛŒÙˆÛŒÙˆØ±Ú©", "ØªÙˆÚ©ÛŒÙˆ", "Ù¾Ú©Ù†", "Ù…Ø³Ú©Ùˆ", "Ø¨Ø±Ù„ÛŒÙ†", "Ù…Ø§Ø¯Ø±ÛŒØ¯", "Ù‚Ø§Ù‡Ø±Ù‡", "Ø§Ø³ØªØ§Ù†Ø¨ÙˆÙ„", "Ø³ÛŒØ¯Ù†ÛŒ", "ØªÙˆØ±Ù†ØªÙˆ", "Ø¯Ø¨ÛŒ", "Ø±ÛŒØ§Ø¶", "Ø¯ÙˆØ­Ù‡", "Ù¾Ø§Ø¯Ø´Ø§Ù‡", "Ù…Ù„Ú©Ù‡", 
    "Ø´Ø§Ù‡Ø²Ø§Ø¯Ù‡", "Ø±Ø¦ÛŒØ³", "Ø¬Ù…Ù‡ÙˆØ±", "Ù†Ø®Ø³Øª", "ÙˆØ²ÛŒØ±", "Ø³ÙÛŒØ±", "Ø¯ÛŒÙ¾Ù„Ù…Ø§Øª", "Ø¯ÛŒÙ¾Ù„Ù…Ø§Ø³ÛŒ", "Ù…Ø°Ø§Ú©Ø±Ù‡", "Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯", "Ù¾ÛŒÙ…Ø§Ù†", "ØµÙ„Ø­", "Ø¢ØªØ´", "Ø¨Ø³", "Ø§Ø±ØªØ´", "Ø³Ù¾Ø§Ù‡", "Ù†ÛŒØ±ÙˆÛŒ", "Ù‡ÙˆØ§ÛŒÛŒ", "Ø¯Ø±ÛŒØ§ÛŒÛŒ", "Ø²Ù…ÛŒÙ†ÛŒ", "Ø³Ø±Ø¨Ø§Ø²", 
    "Ø§ÙØ³Ø±", "Ú˜Ù†Ø±Ø§Ù„", "ÙØ±Ù…Ø§Ù†Ø¯Ù‡", "Ø¬Ù†Ú¯", "Ù†Ø¨Ø±Ø¯", "Ø¹Ù…Ù„ÛŒØ§Øª", "Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ", "ØªØ§Ú©ØªÛŒÚ©", "Ø³Ù„Ø§Ø­", "Ù…ÙˆØ´Ú©", "ØªØ§Ù†Ú©", "Ù‡ÙˆØ§Ù¾ÛŒÙ…Ø§", "Ù†Ø§Ùˆ", "Ø²ÛŒØ±Ø¯Ø±ÛŒØ§ÛŒÛŒ", "Ø¬Ø§Ø³ÙˆØ³ÛŒ", "Ø§Ø·Ù„Ø§Ø¹Ø§Øª", "Ù¾Ø±ÙˆÙ¾Ø§Ú¯Ø§Ù†Ø¯Ø§", "Ø³Ø§Ù†Ø³ÙˆØ±", "Ø¢Ø²Ø§Ø¯ÛŒ", 
    "Ø¨ÛŒØ§Ù†", "Ø­Ù‚ÙˆÙ‚", "Ø¨Ø´Ø±", "Ø´Ù‡Ø±ÙˆÙ†Ø¯", "Ù…Ù‡Ø§Ø¬Ø±Øª", "Ù¾Ù†Ø§Ù‡Ù†Ø¯Ù‡", "Ù…Ø±Ø²", "Ú¯Ø°Ø±Ù†Ø§Ù…Ù‡", "ÙˆÛŒØ²Ø§", "Ø¬Ù‡Ø§Ù†Ú¯Ø±Ø¯ÛŒ", "ØªÙˆØ±ÛŒØ³Ù…", "Ù‡ØªÙ„", "Ø±Ø³ØªÙˆØ±Ø§Ù†", "ÙØ±ÙˆØ¯Ú¯Ø§Ù‡", "Ø¨Ù†Ø¯Ø±", "Ø§ÛŒØ³ØªÚ¯Ø§Ù‡", "Ù‚Ø·Ø§Ø±", "Ø§ØªÙˆØ¨ÙˆØ³", "ØªØ§Ú©Ø³ÛŒ", "Ù…ØªØ±Ùˆ", 
    "Ø¨Ø²Ø±Ú¯Ø±Ø§Ù‡", "Ø®ÛŒØ§Ø¨Ø§Ù†", "Ú©ÙˆÚ†Ù‡", "Ù…ÛŒØ¯Ø§Ù†", "Ú†Ù‡Ø§Ø±Ø±Ø§Ù‡", "Ú†Ø±Ø§Øº", "Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ", "Ù¾Ù„", "ØªÙˆÙ†Ù„", "Ø³Ø§Ø®ØªÙ…Ø§Ù†", "Ø¢Ø³Ù…Ø§Ù†", "Ø®Ø±Ø§Ø´", "Ø¨Ø±Ø¬", "Ø¢Ù¾Ø§Ø±ØªÙ…Ø§Ù†", "ÙˆÛŒÙ„Ø§", "Ú©Ù„Ø¨Ù‡", "Ù‚ØµØ±", "Ù‚Ù„Ø¹Ù‡", "Ù…ÙˆØ²Ù‡", "Ú¯Ø§Ù„Ø±ÛŒ", "Ú©ØªØ§Ø¨ÙØ±ÙˆØ´ÛŒ", 
    "Ú©Ù†Ø³Ø±Øª", "Ø§Ù¾Ø±Ø§", "Ø¨Ø§Ù„Ù‡", "Ù†Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡", "Ø¨Ø§Øº", "ÙˆØ­Ø´", "Ù¾Ø§Ø±Ú©", "Ø¬Ù†Ú¯Ù„ÛŒ", "Ø³Ø§Ø­Ù„", "Ù¾Ù„Ø§Ú˜", "Ø§Ø³Ú©Ù„Ù‡", "Ù‚Ø§ÛŒÙ‚", "Ú©Ø´ØªÛŒ", "Ù„Ù†Ø¬", "Ø¬Øª", "Ø§Ø³Ú©ÛŒ", "ØºÙˆØ§ØµÛŒ", "Ù…ÙˆØ¬", "Ø³ÙˆØ§Ø±ÛŒ", "Ø§Ø³Ú©ÛŒ", "Ø§Ø³Ù†ÙˆØ¨Ø±Ø¯", "Ú©ÙˆÙ‡Ù†ÙˆØ±Ø¯ÛŒ", 
    "ØµØ®Ø±Ù‡", "Ù†ÙˆØ±Ø¯ÛŒ", "Ø·Ø¨ÛŒØ¹Øª", "Ú¯Ø±Ø¯ÛŒ", "ÙÛŒÙ„Ù…Ø¨Ø±Ø¯Ø§Ø±ÛŒ", "Ø®ÙˆØ´Ù†ÙˆÛŒØ³ÛŒ", "Ø³ÙØ§Ù„Ú¯Ø±ÛŒ", "Ø¬ÙˆØ§Ù‡Ø±Ø³Ø§Ø²ÛŒ", "Ø®ÛŒØ§Ø·ÛŒ", "Ú¯Ù„Ø¯ÙˆØ²ÛŒ", "Ø¨Ø§ÙØªÙ†ÛŒ", "Ø¢Ø´Ù¾Ø²ÛŒ", "Ø´ÛŒØ±ÛŒÙ†ÛŒ", "Ù¾Ø²ÛŒ", "Ù†Ø§Ù†ÙˆØ§ÛŒÛŒ", "Ù‚Ù†Ø§Ø¯ÛŒ", "Ú©Ø§ÙÙ‡", "Ù‚Ù‡ÙˆÙ‡", "Ú†Ø§ÛŒ", "Ù†ÙˆØ´ÛŒØ¯Ù†ÛŒ", 
    "ØµØ¨Ø­Ø§Ù†Ù‡", "Ù†Ø§Ù‡Ø§Ø±", "Ø´Ø§Ù…", "Ø¯Ø³Ø±", "Ù¾ÛŒØ´", "ØºØ°Ø§", "Ø³Ø§Ù„Ø§Ø¯", "Ø³ÙˆÙ¾", "Ú©Ø¨Ø§Ø¨", "Ù¾ÛŒØªØ²Ø§", "Ø³Ø§Ù†Ø¯ÙˆÛŒÚ†", "Ù¾Ø§Ø³ØªØ§", "Ø¨Ø±Ù†Ø¬", "Ø®ÙˆØ±Ø´", "Ø³Ø¨Ø²ÛŒØ¬Ø§Øª", "Ù…ÛŒÙˆÙ‡", "Ø®Ø´Ú©Ø¨Ø§Ø±", "Ø¢Ø¬ÛŒÙ„", "Ø§Ø¯ÙˆÛŒÙ‡", "Ø²Ø¹ÙØ±Ø§Ù†", "Ù‡Ù„", "Ø¯Ø§Ø±Ú†ÛŒÙ†", 
    "Ø²Ù†Ø¬Ø¨ÛŒÙ„", "ÙÙ„ÙÙ„", "Ù†Ù…Ú©", "Ø´Ú©Ø±", "Ø¹Ø³Ù„", "Ù…Ø±Ø¨Ø§", "Ø´Ú©Ù„Ø§Øª", "Ø¨Ø³ØªÙ†ÛŒ", "Ú©ÛŒÚ©", "Ø´ÛŒØ±ÛŒÙ†ÛŒ", "Ø¨ÛŒÙ…Ø§Ø±Ø³ØªØ§Ù†", "Ø¯Ø±Ù…Ø§Ù†Ú¯Ø§Ù‡", "Ù…Ø·Ø¨", "Ø¯Ø§Ø±ÙˆØ®Ø§Ù†Ù‡", "Ù¾Ø²Ø´Ú©", "Ù¾Ø±Ø³ØªØ§Ø±", "Ø¬Ø±Ø§Ø­", "Ù…ØªØ®ØµØµ", "Ø¯Ù†Ø¯Ø§Ù†Ù¾Ø²Ø´Ú©", "Ú†Ø´Ù…", "Ù¾Ø²Ø´Ú©", 
    "Ø¯Ø§Ø±ÙˆØ³Ø§Ø²", "Ø¢Ù…Ø¨ÙˆÙ„Ø§Ù†Ø³", "Ø§ÙˆØ±Ú˜Ø§Ù†Ø³", "Ø¨ÛŒÙ…Ø§Ø±ÛŒ", "Ø³Ù„Ø§Ù…ØªÛŒ", "Ø¯Ø±Ù…Ø§Ù†", "ÙˆØ§Ú©Ø³Ù†", "Ø¢Ù†ØªÛŒ", "Ø¨ÛŒÙˆØªÛŒÚ©", "Ù‚Ø±Øµ", "Ø´Ø±Ø¨Øª", "Ø¢Ù…Ù¾ÙˆÙ„", "Ø³Ø±Ù…", "Ø¢Ø²Ù…Ø§ÛŒØ´Ú¯Ø§Ù‡", "Ø±Ø§Ø¯ÛŒÙˆÙ„ÙˆÚ˜ÛŒ", "Ø³ÙˆÙ†ÙˆÚ¯Ø±Ø§ÙÛŒ", "Ø³ÛŒ", "ØªÛŒ", "Ø§Ø³Ú©Ù†", "Ø§Ù…", "Ø¢Ø±", "Ø¢ÛŒ", 
    "Ù…Ø¯Ø±Ø³Ù‡", "Ø¯Ø¨ÛŒØ±Ø³ØªØ§Ù†", "Ù‡Ù†Ø±Ø³ØªØ§Ù†", "Ú©Ø§Ù„Ø¬", "Ø¢Ù…ÙˆØ²Ø´Ú¯Ø§Ù‡", "Ø²Ø¨Ø§Ù†", "Ù…Ø¹Ù„Ù…", "Ø¯Ø¨ÛŒØ±", "Ø§Ø³ØªØ§Ø¯", "Ø¯Ø§Ù†Ø´", "Ø¢Ù…ÙˆØ²", "Ø¯Ø§Ù†Ø´Ø¬Ùˆ", "Ú©Ù„Ø§Ø³", "Ø¯Ø±Ø³", "Ø§Ù…ØªØ­Ø§Ù†", "Ú©Ù†Ú©ÙˆØ±", "Ù¾Ø§ÛŒØ§Ù†", "Ù†Ø§Ù…Ù‡", "Ø±Ø³Ø§Ù„Ù‡", "Ø¯Ú©ØªØ±Ø§", "Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ", 
    "Ø§Ø±Ø´Ø¯", "Ù„ÛŒØ³Ø§Ù†Ø³", "Ø¯ÛŒÙ¾Ù„Ù…", "ØªØ­ØµÛŒÙ„Ø§Øª", "Ù¾Ú˜ÙˆÙ‡Ø´", "Ù…Ù‚Ø§Ù„Ù‡", "Ø¹Ù„Ù…ÛŒ", "Ù…Ø¬Ù„Ù‡", "Ú©Ù†ÙØ±Ø§Ù†Ø³", "Ø³Ù…ÛŒÙ†Ø§Ø±", "Ú©Ø§Ø±Ú¯Ø§Ù‡", "Ø¢Ù…ÙˆØ²Ø´ÛŒ", "Ø´Ø±Ú©Øª", "Ú©Ø§Ø±Ø®Ø§Ù†Ù‡", "Ø§Ø¯Ø§Ø±Ù‡", "Ø³Ø§Ø²Ù…Ø§Ù†", "Ù…ÙˆØ³Ø³Ù‡", "Ø¨Ù†ÛŒØ§Ø¯", "Ø§Ù†Ø¬Ù…Ù†", "Ø§ØªØ­Ø§Ø¯ÛŒÙ‡", 
    "Ø³Ù†Ø¯ÛŒÚ©Ø§", "Ù…Ø¯ÛŒØ±", "Ú©Ø§Ø±Ù…Ù†Ø¯", "Ú©Ø§Ø±Ú¯Ø±", "Ú©Ø§Ø±Ø´Ù†Ø§Ø³", "Ù…Ø´Ø§ÙˆØ±", "ØªØ­Ù„ÛŒÙ„Ú¯Ø±", "Ø­Ø³Ø§Ø¨Ø¯Ø§Ø±", "ÙˆÚ©ÛŒÙ„", "Ù‚Ø§Ø¶ÛŒ", "Ø¯Ø§Ø¯Ú¯Ø§Ù‡", "Ø¯Ø§Ø¯Ø³Ø±Ø§", "Ø²Ù†Ø¯Ø§Ù†", "Ù¾Ù„ÛŒØ³", "Ø¢Ú¯Ø§Ù‡ÛŒ", "Ø¬Ø±Ù…", "Ø¬Ù†Ø§ÛŒØª", "Ù…ØªÙ‡Ù…", "Ø´Ø§Ú©ÛŒ", "Ø´Ø§Ù‡Ø¯", "Ù…Ø¬Ø§Ø²Ø§Øª", 
    "Ø¬Ø±ÛŒÙ…Ù‡", "Ø­Ø¨Ø³", "Ø§Ø¹Ø¯Ø§Ù…", "Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡", "Ù¾Ø¯Ø±", "Ù…Ø§Ø¯Ø±", "ÙØ±Ø²Ù†Ø¯", "Ø¨Ø±Ø§Ø¯Ø±", "Ø®ÙˆØ§Ù‡Ø±", "Ù¾Ø¯Ø±Ø¨Ø²Ø±Ú¯", "Ù…Ø§Ø¯Ø±Ø¨Ø²Ø±Ú¯", "Ù†ÙˆÙ‡", "Ø¹Ù…Ùˆ", "Ø¹Ù…Ù‡", "Ø¯Ø§ÛŒÛŒ", "Ø®Ø§Ù„Ù‡", "Ø§Ø²Ø¯ÙˆØ§Ø¬", "Ø·Ù„Ø§Ù‚", "ØªÙˆÙ„Ø¯", "Ù…Ø±Ú¯", "Ø¹Ø±ÙˆØ³ÛŒ", "Ø¹Ø²Ø§Ø¯Ø§Ø±ÛŒ", 
    "Ø¬Ø´Ù†", "Ù…Ù‡Ù…Ø§Ù†ÛŒ", "Ø¯ÙˆØ³Øª", "Ø±ÙÛŒÙ‚", "Ù‡Ù…Ú©Ø§Ø±", "Ù‡Ù…Ø³Ø§ÛŒÙ‡", "Ø¹Ø´Ù‚", "Ù†ÙØ±Øª", "Ø´Ø§Ø¯ÛŒ", "ØºÙ…", "Ø®Ø´Ù…", "ØªØ±Ø³", "Ø§Ù…ÛŒØ¯", "Ù†Ø§Ø§Ù…ÛŒØ¯ÛŒ", "Ø§Ø¹ØªÙ…Ø§Ø¯", "Ø®ÛŒØ§Ù†Øª", "Ø´Ø¬Ø§Ø¹Øª", "Ø¨Ø²Ø¯Ù„ÛŒ", "ØµØ¯Ø§Ù‚Øª", "Ø¯Ø±ÙˆØº", "Ø¹Ø¯Ø§Ù„Øª", "Ø¨ÛŒ", 
    "Ø¹Ø¯Ø§Ù„ØªÛŒ", "Ø¢Ø±Ø§Ù…Ø´", "Ø§Ø³ØªØ±Ø³", "Ù…ÙˆÙÙ‚ÛŒØª", "Ø´Ú©Ø³Øª", "Ø«Ø±ÙˆØª", "ÙÙ‚Ø±", "Ù‚Ø¯Ø±Øª", "Ø¶Ø¹Ù", "Ø²ÛŒØ¨Ø§ÛŒÛŒ", "Ø²Ø´ØªÛŒ", "Ø¬ÙˆØ§Ù†ÛŒ", "Ù¾ÛŒØ±ÛŒ", "Ú©ÙˆØ¯Ú©ÛŒ", "Ù†ÙˆØ¬ÙˆØ§Ù†ÛŒ", "Ø¨Ø²Ø±Ú¯Ø³Ø§Ù„ÛŒ", "Ø®Ø§Ø·Ø±Ù‡", "Ø±ÙˆÛŒØ§", "Ø¢Ø±Ø²Ùˆ", "Ù‡Ø¯Ù", "Ø¨Ø±Ù†Ø§Ù…Ù‡", "Ø±ÛŒØ²ÛŒ", 
    "Ø¢ÛŒÙ†Ø¯Ù‡", "Ú¯Ø°Ø´ØªÙ‡", "Ø­Ø§Ù„", "Ø²Ù…Ø§Ù†", "Ø³Ø§Ø¹Øª", "Ø¯Ù‚ÛŒÙ‚Ù‡", "Ø«Ø§Ù†ÛŒÙ‡", "Ø±ÙˆØ²", "Ù‡ÙØªÙ‡", "Ù…Ø§Ù‡", "Ø³Ø§Ù„", "Ù‚Ø±Ù†", "Ø¯Ù‡Ù‡", "ØªÙ‚ÙˆÛŒÙ…", "ÙØµÙ„", "Ø¨Ù‡Ø§Ø±", "ØªØ§Ø¨Ø³ØªØ§Ù†", "Ù¾Ø§ÛŒÛŒØ²", "Ø²Ù…Ø³ØªØ§Ù†", "Ø¢Ø¨", "Ù‡ÙˆØ§", "Ø¢ÙØªØ§Ø¨ÛŒ", "Ø§Ø¨Ø±ÛŒ", "Ø¨Ø§Ø±Ø§Ù†ÛŒ", 
    "Ø¨Ø±ÙÛŒ", "Ø¨Ø§Ø¯", "Ù…Ù‡", "Ø±Ø¹Ø¯", "Ø¨Ø±Ù‚", "Ø±Ù†Ú¯ÛŒÙ†", "Ú©Ù…Ø§Ù†", "Ø±Ù†Ú¯", "Ù‚Ø±Ù…Ø²", "Ø¢Ø¨ÛŒ", "Ø²Ø±Ø¯", "Ø³Ø¨Ø²", "Ù†Ø§Ø±Ù†Ø¬ÛŒ", "Ø¨Ù†ÙØ´", "ØµÙˆØ±ØªÛŒ", "Ù‚Ù‡ÙˆÙ‡", "Ø§ÛŒ", "Ø³ÛŒØ§Ù‡", "Ø³ÙÛŒØ¯", "Ø®Ø§Ú©Ø³ØªØ±ÛŒ", "Ø·Ù„Ø§", "Ù†Ù‚Ø±Ù‡", "Ù…Ø³", "Ø¢Ù‡Ù†", "Ø¢Ù„ÙˆÙ…ÛŒÙ†ÛŒÙˆÙ…", 
    "ÙÙˆÙ„Ø§Ø¯", "Ù¾Ù„Ø§Ø³ØªÛŒÚ©", "Ø´ÛŒØ´Ù‡", "Ú†ÙˆØ¨", "Ø³Ù†Ú¯", "Ù¾Ø§Ø±Ú†Ù‡", "Ù„Ø¨Ø§Ø³", "Ù¾ÙˆØ´Ø§Ú©", "Ú©ÙØ´", "Ú©ÛŒÙ", "Ú©Ù„Ø§Ù‡", "Ø¹ÛŒÙ†Ú©", "Ø¬ÙˆØ§Ù‡Ø±Ø§Øª", "Ø¹Ø·Ø±", "Ø§Ø¯Ú©Ù„Ù†", "Ù„ÙˆØ§Ø²Ù…", "Ø¢Ø±Ø§ÛŒØ´", "Ø¨Ù‡Ø¯Ø§Ø´ØªÛŒ", "Ø´Ø§Ù…Ù¾Ùˆ", "ØµØ§Ø¨ÙˆÙ†", "Ø®Ù…ÛŒØ±", "Ø¯Ù†Ø¯Ø§Ù†", 
    "Ù…Ø³ÙˆØ§Ú©", "Ø­ÙˆÙ„Ù‡", "Ø®Ø§Ù†Ù‡", "Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡", "Ø§ØªØ§Ù‚", "Ø®ÙˆØ§Ø¨", "Ù¾Ø°ÛŒØ±Ø§ÛŒÛŒ", "Ø­Ù…Ø§Ù…", "Ø¯Ø³ØªØ´ÙˆÛŒÛŒ", "Ù…Ø¨Ù„Ù…Ø§Ù†", "ÙØ±Ø´", "Ù¾Ø±Ø¯Ù‡", "Ù„ÙˆØ³ØªØ±", "ØªÙ„ÙˆÛŒØ²ÛŒÙˆÙ†", "ÛŒØ®Ú†Ø§Ù„", "Ø§Ø¬Ø§Ù‚", "Ú¯Ø§Ø²", "Ù…Ø§Ø´ÛŒÙ†", "Ù„Ø¨Ø§Ø³Ø´ÙˆÛŒÛŒ", "Ø¸Ø±ÙØ´ÙˆÛŒÛŒ", 
    "Ù…Ø§ÛŒÚ©Ø±ÙˆÙˆÛŒÙˆ", "Ø¬Ø§Ø±ÙˆØ¨Ø±Ù‚ÛŒ", "ØªÙ„ÙÙ†", "Ù‡Ù…Ø±Ø§Ù‡", "ØªØ¨Ù„Øª", "Ù„Ù¾ØªØ§Ù¾", "Ø¯ÙˆØ±Ø¨ÛŒÙ†", "Ø¨Ù„Ù†Ø¯Ú¯Ùˆ", "Ù‡Ø¯ÙÙˆÙ†", "Ú©ØªØ§Ø¨", "Ø¯ÙØªØ±", "Ø®ÙˆØ¯Ú©Ø§Ø±", "Ù…Ø¯Ø§Ø¯", "Ù¾Ø§Ú©", "Ú©Ù†", "ØªØ±Ø§Ø´", "Ø®Ø·", "Ú©Ø´", "Ù¾Ø±Ú¯Ø§Ø±", "Ú©Ø§ØºØ°", "Ù…Ù‚ÙˆØ§", "Ú†Ø³Ø¨", "Ù‚ÛŒÚ†ÛŒ", "Ù…Ù†Ú¯Ù†Ù‡", "Ø±ÙˆØ²Ù†Ø§Ù…Ù‡"
]
TYPING_SENTENCES = [
    "Ø¯Ø± ÛŒÚ© Ø¯Ù‡Ú©Ø¯Ù‡ Ú©ÙˆÚ†Ú© Ù…Ø±Ø¯ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ù…ÛŒÚ©Ø±Ø¯ Ú©Ù‡ Ø¨Ù‡ Ø´Ø¬Ø§Ø¹Øª Ùˆ Ø¯Ø§Ù†Ø§ÛŒÛŒ Ù…Ø´Ù‡ÙˆØ± Ø¨ÙˆØ¯", "ÙÙ†Ø§ÙˆØ±ÛŒ Ø¨Ù„Ø§Ú©Ú†ÛŒÙ† Ù¾ØªØ§Ù†Ø³ÛŒÙ„ Ø§ÛŒØ¬Ø§Ø¯ ØªØ­ÙˆÙ„ Ø¯Ø± ØµÙ†Ø§ÛŒØ¹ Ù…Ø®ØªÙ„Ù Ø±Ø§ Ø¯Ø§Ø±Ø¯", 
    "ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ ÛŒÚ© Ø²Ø¨Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ø¬Ø¯ÛŒØ¯ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¯Ø±Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ø¨Ù‡ Ø±ÙˆÛŒ Ø´Ù…Ø§ Ø¨Ø§Ø² Ú©Ù†Ø¯", "Ú©ØªØ§Ø¨ Ø®ÙˆØ§Ù†Ø¯Ù† Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ø§Ù‡ Ø¨Ø±Ø§ÛŒ Ø³ÙØ± Ø¨Ù‡ Ø¯Ù†ÛŒØ§Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø¨Ø¯ÙˆÙ† ØªØ±Ú© Ú©Ø±Ø¯Ù† Ø®Ø§Ù†Ù‡ Ø§Ø³Øª", 
    "Ø´Ø¨ Ù‡Ø§ÛŒ Ù¾Ø±Ø³ØªØ§Ø±Ù‡ Ú©ÙˆÛŒØ± Ù…Ù†Ø¸Ø±Ù‡ Ø§ÛŒ ÙØ±Ø§Ù…ÙˆØ´ Ù†Ø´Ø¯Ù†ÛŒ Ø±Ø§ Ø¨Ù‡ Ù†Ù…Ø§ÛŒØ´ Ù…ÛŒÚ¯Ø°Ø§Ø±Ù†Ø¯", "ØªÛŒÙ… Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ø§ÛŒÙ† Ù…ÙˆÙÙ‚ÛŒØª ØªÙ„Ø§Ø´ Ù‡Ø§ÛŒ Ø´Ø¨Ø§Ù†Ù‡ Ø±ÙˆØ²ÛŒ Ø²ÛŒØ§Ø¯ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯", 
    "Ø­ÙØ¸ Ù…Ø­ÛŒØ· Ø²ÛŒØ³Øª ÙˆØ¸ÛŒÙÙ‡ ØªÚ© ØªÚ© Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ù†Ø³Ù„ Ù‡Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø§Ø³Øª", "Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ø²Ù†Ø¯Ú¯ÛŒ Ù†ÛŒØ§Ø²Ù…Ù†Ø¯ ØªÙ„Ø§Ø´ Ù¾Ø´ØªÚ©Ø§Ø± Ùˆ Ú©Ù…ÛŒ Ø´Ø§Ù†Ø³ Ø§Ø³Øª", 
    "Ø§ÛŒÙ†ØªØ±Ù†Øª Ø§Ø´ÛŒØ§Ø¡ Ø¯Ù†ÛŒØ§ÛŒÛŒ Ø±Ø§ Ù…ØªØµÙˆØ± Ù…ÛŒØ´ÙˆØ¯ Ú©Ù‡ Ù‡Ù…Ù‡ Ú†ÛŒØ² Ø¨Ù‡ Ù‡Ù… Ù…ØªØµÙ„ Ø§Ø³Øª", "Ø¨Ø²Ø±Ú¯ØªØ±ÛŒÙ† Ù…Ø§Ø¬Ø±Ø§Ø¬ÙˆÛŒÛŒ Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ú©Ø±Ø¯Ù† Ø±ÙˆÛŒØ§Ù‡Ø§ÛŒØª Ø§Ø³Øª", 
    "Ø¨Ø±Ø§ÛŒ Ø­Ù„ Ù…Ø³Ø§Ø¦Ù„ Ù¾ÛŒÚ†ÛŒØ¯Ù‡ Ú¯Ø§Ù‡ÛŒ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø²ÙˆØ§ÛŒØ§ÛŒ Ù…Ø®ØªÙ„Ù Ø¨Ù‡ Ø¢Ù†Ù‡Ø§ Ù†Ú¯Ø§Ù‡ Ú©Ø±Ø¯", "ØªØ§Ø±ÛŒØ® Ù¾Ø± Ø§Ø² Ø¯Ø±Ø³ Ù‡Ø§ÛŒÛŒ Ø§Ø³Øª Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ† Ø¢ÛŒÙ†Ø¯Ù‡ Ø§ÛŒ Ø¨Ù‡ØªØ± Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø¨ÛŒØ§Ù…ÙˆØ²ÛŒÙ…", 
    "Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø¨Ù‡ Ø³Ø±Ø¹Øª Ø¯Ø± Ø­Ø§Ù„ ØªØºÛŒÛŒØ± Ú†Ù‡Ø±Ù‡ Ø¬Ù‡Ø§Ù† Ù…Ø§ Ø§Ø³Øª", "ÛŒÚ© Ø¯ÙˆØ³Øª Ø®ÙˆØ¨ Ú¯Ù†Ø¬ÛŒ Ú¯Ø±Ø§Ù†Ø¨Ù‡Ø§ Ø¯Ø± ÙØ±Ø§Ø² Ùˆ Ù†Ø´ÛŒØ¨ Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ø§Ø³Øª", "Ø³ÙØ± Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù†Ù‚Ø§Ø· Ù…Ø®ØªÙ„Ù Ø¬Ù‡Ø§Ù† Ø¯ÛŒØ¯Ú¯Ø§Ù‡ Ø§Ù†Ø³Ø§Ù† Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ù…ÛŒØ¯Ù‡Ø¯", 
    "ÙˆØ±Ø²Ø´ Ù…Ù†Ø¸Ù… Ú©Ù„ÛŒØ¯ Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø´ØªÙ† Ø¨Ø¯Ù†ÛŒ Ø³Ø§Ù„Ù… Ùˆ Ø±ÙˆØ­ÛŒ Ø´Ø§Ø¯Ø§Ø¨ Ø§Ø³Øª", "Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ø²Ø¨Ø§Ù† Ù…Ø´ØªØ±Ú© ØªÙ…Ø§Ù… Ø§Ù†Ø³Ø§Ù† Ù‡Ø§ Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ú©Ø±Ù‡ Ø²Ù…ÛŒÙ† Ø§Ø³Øª", 
    "Ù‡ÛŒÚ†Ú¯Ø§Ù‡ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ùˆ Ø´Ø±ÙˆØ¹ ÛŒÚ© Ù…Ø³ÛŒØ± Ø¬Ø¯ÛŒØ¯ Ø¯ÛŒØ± Ù†ÛŒØ³Øª", "Ø§Ø­ØªØ±Ø§Ù… Ø¨Ù‡ Ø¹Ù‚Ø§ÛŒØ¯ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø­ØªÛŒ Ø§Ú¯Ø± Ø¨Ø§ Ø¢Ù†Ù‡Ø§ Ù…Ø®Ø§Ù„Ù Ø¨Ø§Ø´ÛŒÙ… Ù†Ø´Ø§Ù†Ù‡ Ø¨Ù„ÙˆØº Ø§Ø³Øª", 
    "ØªØºÛŒÛŒØ± ØªÙ†Ù‡Ø§ Ù¾Ø¯ÛŒØ¯Ù‡ Ø«Ø§Ø¨Øª Ø¯Ø± Ø¬Ù‡Ø§Ù† Ù‡Ø³ØªÛŒ Ø§Ø³Øª Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø§ Ø¢Ù† ÙˆÙÙ‚ Ø¯Ù‡ÛŒÙ…", "ØµØ¨Ø± Ùˆ Ø´Ú©ÛŒØ¨Ø§ÛŒÛŒ Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ù…Ø´Ú©Ù„Ø§Øª Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø­Ù„ Ø´Ø¯Ù†ÛŒ Ù…ÛŒÚ©Ù†Ø¯", 
    "Ø®Ù„Ø§Ù‚ÛŒØª ÛŒØ¹Ù†ÛŒ Ø¯ÛŒØ¯Ù† Ú†ÛŒØ²ÛŒ Ú©Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù†Ù…ÛŒØ¨ÛŒÙ†Ù†Ø¯ Ùˆ Ø§Ù†Ø¬Ø§Ù… Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¬Ø±Ø§ØªØ´ Ø±Ø§ Ù†Ø¯Ø§Ø±Ù†Ø¯", "Ø´Ø§Ø¯ÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¯Ø± Ø¯Ø§Ø´ØªÙ† Ú†ÛŒØ²Ù‡Ø§ÛŒ Ø²ÛŒØ§Ø¯ Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ø¯Ø± Ù„Ø°Øª Ø¨Ø±Ø¯Ù† Ø§Ø² Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¯Ø§Ø±ÛŒÙ…", 
    "ØµØ¯Ø§Ù‚Øª Ùˆ Ø±Ø§Ø³ØªÚ¯ÙˆÛŒÛŒ Ø³Ù†Ú¯ Ø¨Ù†Ø§ÛŒ Ù‡Ø± Ø±Ø§Ø¨Ø·Ù‡ Ù¾Ø§ÛŒØ¯Ø§Ø± Ùˆ Ù…ÙˆÙÙ‚ÛŒ Ø§Ø³Øª", "Ú©Ù‡Ú©Ø´Ø§Ù† Ø±Ø§Ù‡ Ø´ÛŒØ±ÛŒ ØªÙ†Ù‡Ø§ ÛŒÚ©ÛŒ Ø§Ø² Ù…ÛŒÙ„ÛŒØ§Ø±Ø¯Ù‡Ø§ Ú©Ù‡Ú©Ø´Ø§Ù† Ù…ÙˆØ¬ÙˆØ¯ Ø¯Ø± Ú©ÛŒÙ‡Ø§Ù† Ø§Ø³Øª", 
    "Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ† ÛŒÚ© Ø±Ø¨Ø§Øª Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ù‡ Ø¯Ø§Ù†Ø´ Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù†ÙˆÛŒØ³ÛŒ Ùˆ Ø§Ù„Ú©ØªØ±ÙˆÙ†ÛŒÚ© Ù†ÛŒØ§Ø² Ø§Ø³Øª", "Ø§Ù…Ù†ÛŒØª Ø³Ø§ÛŒØ¨Ø±ÛŒ Ø¯Ø± Ø¯Ù†ÛŒØ§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ø§Ù…Ø±ÙˆØ² Ø§Ø² Ø§Ù‡Ù…ÛŒØª ÙÙˆÙ‚ Ø§Ù„Ø¹Ø§Ø¯Ù‡ Ø§ÛŒ Ø¨Ø±Ø®ÙˆØ±Ø¯Ø§Ø± Ø§Ø³Øª", 
    "Ù‡Ø±Ú¯Ø² Ù‚Ø¯Ø±Øª ÛŒÚ© Ø§ÛŒØ¯Ù‡ Ø®ÙˆØ¨ Ø±Ø§ Ø¯Ø³Øª Ú©Ù… Ù†Ú¯ÛŒØ± Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¯Ù†ÛŒØ§ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡Ø¯", "Ú©Ø§Ø± Ú¯Ø±ÙˆÙ‡ÛŒ Ùˆ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ù…Ù†Ø¬Ø± Ø¨Ù‡ Ù†ØªØ§ÛŒØ¬ÛŒ Ø´Ú¯ÙØª Ø§Ù†Ú¯ÛŒØ² Ø´ÙˆØ¯", 
    "Ø´Ú©Ø³Øª Ø¨Ø®Ø´ÛŒ Ø§Ø² Ù…Ø³ÛŒØ± Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø³Øª Ø§Ø² Ø¢Ù† Ø¯Ø±Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯ Ùˆ Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯", "Ø¬Ù†Ú¯Ù„ Ù‡Ø§ÛŒ Ø¢Ù…Ø§Ø²ÙˆÙ† Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø±ÛŒÙ‡ Ù‡Ø§ÛŒ Ú©Ø±Ù‡ Ø²Ù…ÛŒÙ† Ø´Ù†Ø§Ø®ØªÙ‡ Ù…ÛŒØ´ÙˆÙ†Ø¯", 
    "Ú©ÙˆÙ‡ Ø§ÙˆØ±Ø³Øª Ø¨Ù„Ù†Ø¯ØªØ±ÛŒÙ† Ù‚Ù„Ù‡ Ø¬Ù‡Ø§Ù† Ø¯Ø± Ø±Ø´ØªÙ‡ Ú©ÙˆÙ‡ Ù‡ÛŒÙ…Ø§Ù„ÛŒØ§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯", "Ø¯ÛŒÙˆØ§Ø± Ø¨Ø²Ø±Ú¯ Ú†ÛŒÙ† ÛŒÚ©ÛŒ Ø§Ø² Ø´Ú¯ÙØªÛŒ Ù‡Ø§ÛŒ Ø³Ø§Ø®Øª Ø¨Ø´Ø± Ø¯Ø± Ø·ÙˆÙ„ ØªØ§Ø±ÛŒØ® Ø§Ø³Øª", 
    "Ø§Ù‡Ø±Ø§Ù… Ø«Ù„Ø§Ø«Ù‡ Ù…ØµØ± Ù†Ù…Ø§Ø¯ ØªÙ…Ø¯Ù† Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ùˆ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ø´Ú¯ÙØª Ø§Ù†Ú¯ÛŒØ² Ø¢Ù† Ø¯ÙˆØ±Ø§Ù† Ù‡Ø³ØªÙ†Ø¯", "Ø®ÙˆØ±Ø´ÛŒØ¯ Ú¯Ø±ÙØªÚ¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø±Ø® Ù…ÛŒØ¯Ù‡Ø¯ Ú©Ù‡ Ù…Ø§Ù‡ Ø¨ÛŒÙ† Ø²Ù…ÛŒÙ† Ùˆ Ø®ÙˆØ±Ø´ÛŒØ¯ Ù‚Ø±Ø§Ø± Ø¨Ú¯ÛŒØ±Ø¯", 
    "Ø¢Ø¨ Ù…Ø§ÛŒÙ‡ Ø­ÛŒØ§Øª Ø§Ø³Øª Ùˆ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ù…ØµØ±Ù Ø¢Ù† ØµØ±ÙÙ‡ Ø¬ÙˆÛŒÛŒ Ú©Ù†ÛŒÙ…", "Ø²Ù†Ø¨ÙˆØ±Ù‡Ø§ÛŒ Ø¹Ø³Ù„ Ù†Ù‚Ø´ Ø¨Ø³ÛŒØ§Ø± Ù…Ù‡Ù…ÛŒ Ø¯Ø± Ú¯Ø±Ø¯Ù‡ Ø§ÙØ´Ø§Ù†ÛŒ Ùˆ Ø­ÛŒØ§Øª Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¯Ø§Ø±Ù†Ø¯", 
    "Ø¨Ø§Ø²ÛŒØ§ÙØª Ø²Ø¨Ø§Ù„Ù‡ Ø¨Ù‡ Ø­ÙØ¸ Ù…Ù†Ø§Ø¨Ø¹ Ø·Ø¨ÛŒØ¹ÛŒ Ùˆ Ú©Ø§Ù‡Ø´ Ø¢Ù„ÙˆØ¯Ú¯ÛŒ Ú©Ù…Ú© Ù…ÛŒÚ©Ù†Ø¯", "Ú©Ù‡Ú©Ø´Ø§Ù† Ø¢Ù†Ø¯Ø±ÙˆÙ…Ø¯Ø§ Ù†Ø²Ø¯ÛŒÚ©ØªØ±ÛŒÙ† Ú©Ù‡Ú©Ø´Ø§Ù† Ù…Ø§Ø±Ù¾ÛŒÚ†ÛŒ Ø¨Ù‡ Ú©Ù‡Ú©Ø´Ø§Ù† Ù…Ø§ Ø§Ø³Øª", 
    "Ø³Ø±Ø¹Øª Ù†ÙˆØ± Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø³Ø±Ø¹Øª Ù…Ù…Ú©Ù† Ø¯Ø± Ø¬Ù‡Ø§Ù† Ù‡Ø³ØªÛŒ Ù…Ø­Ø³ÙˆØ¨ Ù…ÛŒØ´ÙˆØ¯", "Ù‡Ø± Ø§Ù†Ø³Ø§Ù† Ø¯Ø§Ø±Ø§ÛŒ Ø§Ø«Ø± Ø§Ù†Ú¯Ø´Øª Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø§Ùˆ Ø±Ø§ Ø§Ø² Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù…ØªÙ…Ø§ÛŒØ² Ù…ÛŒÚ©Ù†Ø¯", 
    "ÛŒÙˆØ²Ù¾Ù„Ù†Ú¯ Ø³Ø±ÛŒØ¹ØªØ±ÛŒÙ† Ø­ÛŒÙˆØ§Ù† Ø±ÙˆÛŒ Ø®Ø´Ú©ÛŒ Ø§Ø³Øª Ùˆ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ÛŒÛŒ Ø¨Ø±Ø³Ø¯", "Ù‚Ù„Ø¨ ÛŒÚ© Ø§Ù†Ø³Ø§Ù† Ø¨Ø§Ù„Øº Ø¨Ù‡ Ø·ÙˆØ± Ù…ØªÙˆØ³Ø· ØµØ¯ Ù‡Ø²Ø§Ø± Ø¨Ø§Ø± Ø¯Ø± Ø±ÙˆØ² Ù…ÛŒØªÙ¾Ø¯", 
    "Ø®ÙˆØ§Ø¨ Ú©Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø³Ù„Ø§Ù…Øª Ø¬Ø³Ù… Ùˆ Ø±ÙˆØ§Ù† Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø¨Ù‡ØªØ± Ù…ØºØ² Ø¶Ø±ÙˆØ±ÛŒ Ø§Ø³Øª", "ÙˆÛŒØªØ§Ù…ÛŒÙ† Ø¯ÛŒ Ø¨Ø§ Ù‚Ø±Ø§Ø± Ú¯Ø±ÙØªÙ† Ø¯Ø± Ù…Ø¹Ø±Ø¶ Ù†ÙˆØ± Ø®ÙˆØ±Ø´ÛŒØ¯ Ø¯Ø± Ø¨Ø¯Ù† ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒØ´ÙˆØ¯", 
    "Ø®Ù†Ø¯Ù‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯Ø§Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ù‡Ø´ Ø§Ø³ØªØ±Ø³ Ùˆ ØªÙ‚ÙˆÛŒØª Ø³ÛŒØ³ØªÙ… Ø§ÛŒÙ…Ù†ÛŒ Ø¨Ø¯Ù† Ø§Ø³Øª", "ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¨Ù‡ Ø¨Ù‡Ø¨ÙˆØ¯ Ø­Ø§ÙØ¸Ù‡ Ùˆ Ù‡Ù…Ø§Ù‡Ù†Ú¯ÛŒ Ø§Ø¹Ø¶Ø§ÛŒ Ø¨Ø¯Ù† Ú©Ù…Ú© Ú©Ù†Ø¯", 
    "Ø§Ø±ØªØ¨Ø§Ø·Ø§Øª Ù…Ø§Ù‡ÙˆØ§Ø±Ù‡ Ø§ÛŒ Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ ØªÙ…Ø§Ø³ Ø¯Ø± Ø³Ø±Ø§Ø³Ø± Ø¬Ù‡Ø§Ù† Ø±Ø§ ÙØ±Ø§Ù‡Ù… Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª", "ÙÛŒØ¨Ø± Ù†ÙˆØ±ÛŒ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ù¾Ø§Ù„Ø³ Ù‡Ø§ÛŒ Ù†ÙˆØ±ÛŒ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ Ø±Ø§ Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒÚ©Ù†Ø¯", 
    "ÙˆØ§Ù‚Ø¹ÛŒØª Ù…Ø¬Ø§Ø²ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ø§ÛŒ ÙØ±Ø§Ú¯ÛŒØ± Ø§Ø² ÛŒÚ© Ø¯Ù†ÛŒØ§ÛŒ Ø´Ø¨ÛŒÙ‡ Ø³Ø§Ø²ÛŒ Ø´Ø¯Ù‡ Ø±Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒØ¯Ù‡Ø¯", "Ú†Ø§Ù¾Ú¯Ø±Ù‡Ø§ÛŒ Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒ Ù‚Ø§Ø¯Ø± Ø¨Ù‡ Ø³Ø§Ø®Øª Ø§Ø´ÛŒØ§Ø¡ ÙÛŒØ²ÛŒÚ©ÛŒ Ø§Ø² Ø±ÙˆÛŒ Ù…Ø¯Ù„ Ù‡Ø§ÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ Ù‡Ø³ØªÙ†Ø¯", 
    "Ø®ÙˆØ¯Ø±ÙˆÙ‡Ø§ÛŒ Ø§Ù„Ú©ØªØ±ÛŒÚ©ÛŒ Ø¨Ø§ Ù‡Ø¯Ù Ú©Ø§Ù‡Ø´ Ø¢Ù„ÙˆØ¯Ú¯ÛŒ Ù‡ÙˆØ§ Ø¯Ø± Ø­Ø§Ù„ Ú¯Ø³ØªØ±Ø´ Ù‡Ø³ØªÙ†Ø¯", "Ø§Ù†Ø±Ú˜ÛŒ Ù‡Ø³ØªÙ‡ Ø§ÛŒ Ø§Ø² Ø´Ú©Ø§ÙØª Ø§ØªÙ… Ù‡Ø§ Ø¨Ø±Ø§ÛŒ ØªÙˆÙ„ÛŒØ¯ Ø¨Ø±Ù‚ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†Ø¯", "Ù‚Ø·Ø±Ù‡ Ù‚Ø·Ø±Ù‡ Ø¬Ù…Ø¹ Ú¯Ø±Ø¯Ø¯ ÙˆØ§Ù†Ú¯Ù‡ÛŒ Ø¯Ø±ÛŒØ§ Ø´ÙˆØ¯", 
    "Ø¢ÛŒÙ†Ø¯Ù‡ Ø³Ø§Ø®ØªÙ†ÛŒ Ø§Ø³Øª Ù†Ù‡ ÛŒØ§ÙØªÙ†ÛŒ Ù¾Ø³ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø¢Ù† ØªÙ„Ø§Ø´ Ú©Ø±Ø¯", "Ø¨Ù‡ØªØ±ÛŒÙ† Ø²Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø´ØªÙ† ÛŒÚ© Ø¯Ø±Ø®Øª Ø¨ÛŒØ³Øª Ø³Ø§Ù„ Ù¾ÛŒØ´ Ø¨ÙˆØ¯ Ø²Ù…Ø§Ù† Ø¨Ø¹Ø¯ÛŒ Ù‡Ù…ÛŒÙ† Ø§Ù…Ø±ÙˆØ² Ø§Ø³Øª", 
    "Ø¨Ø±Ø§ÛŒ Ø¯ÛŒØ¯Ù† Ø±Ù†Ú¯ÛŒÙ† Ú©Ù…Ø§Ù† Ø¨Ø§ÛŒØ¯ Ù‡Ù… Ø¨Ø§Ø±Ø§Ù† Ø±Ø§ ØªØ­Ù…Ù„ Ú©Ù†ÛŒ Ù‡Ù… Ø¢ÙØªØ§Ø¨ Ø±Ø§", "Ù…ÙˆÙÙ‚ÛŒØª Ù…Ø¬Ù…ÙˆØ¹Ù‡ Ø§ÛŒ Ø§Ø² ØªÙ„Ø§Ø´ Ù‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø§Ø³Øª Ú©Ù‡ Ù‡Ø± Ø±ÙˆØ² ØªÚ©Ø±Ø§Ø± Ù…ÛŒØ´ÙˆÙ†Ø¯", 
    "ØªÙ†Ù‡Ø§ Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù‡Ø§ÛŒ Ø²Ù†Ø¯Ú¯ÛŒ Ø¢Ù†Ù‡Ø§ÛŒÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø®ÙˆØ¯Ù…Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯Ù…Ø§Ù† Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒÚ©Ù†ÛŒÙ…", "Ø¨Ù‡ Ø¬Ø§ÛŒ Ù†Ú¯Ø±Ø§Ù†ÛŒ Ø¯Ø± Ù…ÙˆØ±Ø¯ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ù†Ù…ÛŒØªÙˆØ§Ù†ÛŒ Ú©Ù†ØªØ±Ù„ Ú©Ù†ÛŒ Ø±ÙˆÛŒ Ú†ÛŒØ²Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†ÛŒ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒ ØªÙ…Ø±Ú©Ø² Ú©Ù†", 
    "Ø´Ø¬Ø§Ø¹Øª Ù†Ø¨ÙˆØ¯Ù† ØªØ±Ø³ Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ø¹Ù…Ù„ Ú©Ø±Ø¯Ù† Ø¨Ø§ ÙˆØ¬ÙˆØ¯ ØªØ±Ø³ Ø§Ø³Øª", "ÛŒÚ© Ø³ÙØ± Ù‡Ø²Ø§Ø± Ú©ÛŒÙ„ÙˆÙ…ØªØ±ÛŒ Ø¨Ø§ Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø¢ØºØ§Ø² Ù…ÛŒØ´ÙˆØ¯", "Ø²Ù†Ø¯Ú¯ÛŒ Ù…Ø«Ù„ Ø¯ÙˆÚ†Ø±Ø®Ù‡ Ø³ÙˆØ§Ø±ÛŒ Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø­ÙØ¸ ØªØ¹Ø§Ø¯Ù„ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ø­Ø±Ú©Øª Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ù‡ÛŒ", 
    "Ø§Ù†Ø³Ø§Ù† Ù‡Ø§ÛŒ Ù…ÙˆÙÙ‚ Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ ÙØ±ØµØª Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ù…Ú© Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù‡Ø³ØªÙ†Ø¯", "Ù‡Ø¯Ù Ú¯Ø°Ø§Ø±ÛŒ Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ù†Ø§Ø¯ÛŒØ¯Ù†ÛŒ Ù‡Ø§ Ø¨Ù‡ Ø¯ÛŒØ¯Ù†ÛŒ Ù‡Ø§ Ø§Ø³Øª", 
    "Ø±Ø§Ø² Ù¾ÛŒØ´Ø±ÙØª Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯Ù† Ø§Ø³Øª Ù¾Ø³ Ù…Ù†ØªØ¸Ø± Ø²Ù…Ø§Ù† Ù…Ù†Ø§Ø³Ø¨ Ù†Ù…Ø§Ù†", "Ø§Ú¯Ø± Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒ Ù…ØªÙØ§ÙˆØª Ø¨Ø§Ø´ÛŒ Ø¨Ø§ÛŒØ¯ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù…ØªÙØ§ÙˆØªÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒ", "Ø§Ø´ØªØ¨Ø§Ù‡ Ú©Ø±Ø¯Ù† Ø¨Ø®Ø´ÛŒ Ø§Ø² Ø§Ù†Ø³Ø§Ù† Ø¨ÙˆØ¯Ù† Ø§Ø³Øª Ù…Ù‡Ù… Ø¯Ø±Ø³ Ú¯Ø±ÙØªÙ† Ø§Ø² Ø¢Ù†Ù‡Ø§ Ø§Ø³Øª", 
    "Ø§Ø¬Ø§Ø²Ù‡ Ù†Ø¯Ù‡ Ø³Ø± Ùˆ ØµØ¯Ø§ÛŒ Ø¹Ù‚Ø§ÛŒØ¯ Ø¯ÛŒÚ¯Ø±Ø§Ù† ØµØ¯Ø§ÛŒ Ø¯Ø±ÙˆÙ†ÛŒ ØªÙˆ Ø±Ø§ Ø®Ø§Ù…ÙˆØ´ Ú©Ù†Ø¯", "Ø®ÙˆØ´Ø¨Ø®ØªÛŒ ÛŒÚ© Ù…Ø³ÛŒØ± Ø§Ø³Øª Ù†Ù‡ ÛŒÚ© Ù…Ù‚ØµØ¯ Ø§Ø² Ù„Ø­Ø¸Ø§Øª Ø®ÙˆØ¯ Ù„Ø°Øª Ø¨Ø¨Ø±", 
    "ØªÙ†Ù‡Ø§ Ø±Ø§Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù† Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¯ÙˆØ³Øª Ø¯Ø§Ø´ØªÙ† Ú©Ø§Ø±ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒ", "ÙØ±ØµØª Ù‡Ø§ Ù…Ø§Ù†Ù†Ø¯ Ø·Ù„ÙˆØ¹ Ø®ÙˆØ±Ø´ÛŒØ¯ Ù‡Ø³ØªÙ†Ø¯ Ø§Ú¯Ø± Ø²ÛŒØ§Ø¯ ØµØ¨Ø± Ú©Ù†ÛŒ Ø¢Ù†Ù‡Ø§ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ù…ÛŒØ¯Ù‡ÛŒ", 
    "Ø§Ø³ØªØ¹Ø¯Ø§Ø¯ Ø°Ø§ØªÛŒ ÙÙ‚Ø· ÛŒÚ© Ø´Ø±ÙˆØ¹ Ø§Ø³Øª Ø¨Ø§ÛŒØ¯ Ø¨Ø§ ØªÙ„Ø§Ø´ Ø¢Ù† Ø±Ø§ Ù¾Ø±ÙˆØ±Ø´ Ø¯Ù‡ÛŒ", "Ø¨Ø§ Ø§ÙÚ©Ø§Ø± Ù…Ø«Ø¨Øª Ø¯Ù†ÛŒØ§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø²ÛŒØ¨Ø§ØªØ± Ú©Ù† Ú†ÙˆÙ† Ø²Ù†Ø¯Ú¯ÛŒ Ø§Ù†Ø¹Ú©Ø§Ø³ Ø§ÙÚ©Ø§Ø± ØªÙˆ Ø§Ø³Øª", 
    "Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù‚Ù„Ù‡ Ø¨Ø§ÛŒØ¯ Ø³Ø®ØªÛŒ Ù‡Ø§ÛŒ Ù…Ø³ÛŒØ± Ø±Ø§ ØªØ­Ù…Ù„ Ú©Ø±Ø¯", "Ø³Ú©ÙˆØª Ú¯Ø§Ù‡ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ø¨ÛŒ Ù…Ø¹Ù†ÛŒ Ø§Ø³Øª", "Ø¨Ø±Ø§ÛŒ Ø¯Ø§Ø´ØªÙ† Ø¯ÙˆØ³Øª ÙˆÙØ§Ø¯Ø§Ø± Ø¨Ø§ÛŒØ¯ Ø®ÙˆØ¯Øª ÛŒÚ© Ø¯ÙˆØ³Øª ÙˆÙØ§Ø¯Ø§Ø± Ø¨Ø§Ø´ÛŒ", 
    "Ø§Ù…ÛŒØ¯ Ù…Ø§Ù†Ù†Ø¯ Ú†Ø±Ø§ØºÛŒ Ø¯Ø± ØªØ§Ø±ÛŒÚ©ÛŒ Ù…Ø³ÛŒØ± Ø±Ø§ Ø¨Ø±Ø§ÛŒØª Ø±ÙˆØ´Ù† Ù…ÛŒÚ©Ù†Ø¯", "Ú©ØªØ§Ø¨ Ù‡Ø§ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¯ÙˆØ³ØªØ§Ù† Ø®Ø§Ù…ÙˆØ´ Ù…Ø§ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù‡Ø±Ú¯Ø² Ù…Ø§ Ø±Ø§ ØªØ±Ú© Ù†Ù…ÛŒÚ©Ù†Ù†Ø¯", 
    "Ø¯Ø§Ù†Ø´ Ù‚Ø¯Ø±ØªÛŒ Ø§Ø³Øª Ú©Ù‡ Ù‡ÛŒÚ†Ú©Ø³ Ù†Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¢Ù† Ø±Ø§ Ø§Ø² ØªÙˆ Ø¨Ú¯ÛŒØ±Ø¯", "Ú¯Ø°Ø´ØªÙ‡ Ø±Ø§ Ù†Ù…ÛŒØªÙˆØ§Ù† ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯ Ø§Ù…Ø§ Ø¢ÛŒÙ†Ø¯Ù‡ Ù‡Ù†ÙˆØ² Ø¯Ø± Ø¯Ø³ØªØ§Ù† ØªÙˆ Ø§Ø³Øª", 
    "ØªÙØ§ÙˆØª Ø¨ÛŒÙ† ÛŒÚ© ÙØ±Ø¯ Ù…ÙˆÙÙ‚ Ùˆ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ú©Ù…Ø¨ÙˆØ¯ Ù‚Ø¯Ø±Øª Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ú©Ù…Ø¨ÙˆØ¯ Ø§Ø±Ø§Ø¯Ù‡ Ø§Ø³Øª", "Ø§Ù†Ø³Ø§Ù† Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø§ÛŒØ¯Ù‡ Ù‡Ø§ ØµØ­Ø¨Øª Ù…ÛŒÚ©Ù†Ù†Ø¯ Ø§Ù†Ø³Ø§Ù† Ù‡Ø§ÛŒ Ù…ØªÙˆØ³Ø· Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ Ùˆ Ø§Ù†Ø³Ø§Ù† Ù‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†", 
    "Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆØ§Ø² Ú©Ø±Ø¯Ù† Ù„Ø§Ø²Ù… Ù†ÛŒØ³Øª Ø­ØªÙ…Ø§ Ø¨Ø§Ù„ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ Ø¯Ø§Ø´ØªÙ† Ø§Ø±Ø§Ø¯Ù‡ Ùˆ Ø±ÙˆÛŒØ§ Ú©Ø§ÙÛŒ Ø§Ø³Øª", "Ø³Ø§Ø¯Ù‡ ØªØ±ÛŒÙ† Ú©Ø§Ø±Ù‡Ø§ Ø§ØºÙ„Ø¨ Ø¯Ø±Ø³Øª ØªØ±ÛŒÙ† Ø¢Ù†Ù‡Ø§ Ù‡Ø³ØªÙ†Ø¯", 
    "ØªÙ…Ø±ÛŒÙ† Ø²ÛŒØ§Ø¯ Ø¨Ø§Ø¹Ø« Ù…ÛŒØ´ÙˆØ¯ Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø³Ø®Øª Ø¢Ø³Ø§Ù† Ø¨Ù‡ Ù†Ø¸Ø± Ø¨Ø±Ø³Ù†Ø¯", "ÛŒÚ© Ø°Ù‡Ù† Ø¢Ø±Ø§Ù… Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ù‚ÙˆÛŒ ØªØ±ÛŒÙ† Ø·ÙˆÙØ§Ù† Ù‡Ø§ Ø±Ø§ Ù¾Ø´Øª Ø³Ø± Ø¨Ú¯Ø°Ø§Ø±Ø¯", 
    "Ù‡Ø±Ú¯Ø² Ø§Ø¬Ø§Ø²Ù‡ Ù†Ø¯Ù‡ Ø¯ÛŒØ±ÙˆØ² Ø¨Ø®Ø´ Ø²ÛŒØ§Ø¯ÛŒ Ø§Ø² Ø§Ù…Ø±ÙˆØ² ØªÙˆ Ø±Ø§ Ø¨Ù‡ Ø®ÙˆØ¯ Ø§Ø®ØªØµØ§Øµ Ø¯Ù‡Ø¯", "Ø§Ú¯Ø± Ø¨Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ù†ØªØ§ÛŒØ¬ Ù…ØªÙØ§ÙˆØª Ù‡Ø³ØªÛŒ Ø¨Ø§ÛŒØ¯ Ø±ÙˆØ´ Ù‡Ø§ÛŒ Ù…ØªÙØ§ÙˆØªÛŒ Ø±Ø§ Ø§Ù…ØªØ­Ø§Ù† Ú©Ù†ÛŒ", 
    "ØµØ¨Ø± Ú©Ù„ÛŒØ¯ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± ØªÙ…Ø§Ù… Ù…Ø±Ø§Ø­Ù„ Ø²Ù†Ø¯Ú¯ÛŒ Ø§Ø³Øª", "Ø³Ø¹ÛŒ Ù†Ú©Ù† Ø§Ù†Ø³Ø§Ù† Ù…ÙˆÙÙ‚ÛŒ Ø¨Ø§Ø´ÛŒ Ø¨Ù„Ú©Ù‡ Ø³Ø¹ÛŒ Ú©Ù† Ø§Ù†Ø³Ø§Ù† Ø¨Ø§ Ø§Ø±Ø²Ø´ÛŒ Ø¨Ø§Ø´ÛŒ", "Ø±Ø§Ø² Ø´Ø§Ø¯ Ø²ÛŒØ³ØªÙ† Ø¯Ø± Ù„Ø°Øª Ø¨Ø±Ø¯Ù† Ø§Ø² Ú†ÛŒØ²Ù‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø§Ø³Øª", 
    "Ù‡Ù…ÛŒØ´Ù‡ Ø¨Ù‡ ÛŒØ§Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ Ú©Ù‡ Ù…Ø³ÛŒØ± Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ø§Ø³Øª Ù†Ù‡ ÛŒÚ© Ø¬Ø§Ø¯Ù‡ Ø¢Ù…Ø§Ø¯Ù‡", "ÛŒÚ© Ù„Ø¨Ø®Ù†Ø¯ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø´Ø±ÙˆØ¹ ÛŒÚ© Ø¯ÙˆØ³ØªÛŒ Ø²ÛŒØ¨Ø§ Ø¨Ø§Ø´Ø¯", 
    "Ø§Ú¯Ø± Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒ Ø¯Ù†ÛŒØ§ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒ Ø§Ø² Ù…Ø±ØªØ¨ Ú©Ø±Ø¯Ù† ØªØ®Øª Ø®ÙˆØ¯Øª Ø´Ø±ÙˆØ¹ Ú©Ù†", "Ø¨Ø®Ø´ÛŒØ¯Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ ÙØ±Ø§Ù…ÙˆØ´ Ú©Ø±Ø¯Ù† Ú¯Ø°Ø´ØªÙ‡ Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ø¨Ù‡ Ù…Ø¹Ù†Ø§ÛŒ Ø³Ø§Ø®ØªÙ† Ø¢ÛŒÙ†Ø¯Ù‡ Ø§ÛŒ Ø¨Ù‡ØªØ± Ø§Ø³Øª", 
    "Ù…Ù‡Ø±Ø¨Ø§Ù†ÛŒ Ø²Ø¨Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ù†Ø§Ø´Ù†ÙˆØ§ÛŒØ§Ù† Ù…ÛŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø´Ù†ÙˆÙ†Ø¯ Ùˆ Ù†Ø§Ø¨ÛŒÙ†Ø§ÛŒØ§Ù† Ù…ÛŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ø¨ÛŒÙ†Ù†Ø¯", "Ù‡Ø± Ø±ÙˆØ² ÛŒÚ© ÙØ±ØµØª Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ùˆ Ø¨Ù‡ØªØ± Ø´Ø¯Ù† Ø§Ø³Øª", 
    "Ø³Ø¹ÛŒ Ù†Ú©Ù† Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ø·ÙˆÙØ§Ù† Ù…Ù‚Ø§ÙˆÙ…Øª Ú©Ù†ÛŒ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ± Ø¯Ø± Ø¨Ø§Ø±Ø§Ù† Ø¨Ø±Ù‚ØµÛŒ", "Ø²Ù†Ø¯Ú¯ÛŒ ÛŒÚ© Ø¨ÙˆÙ… Ù†Ù‚Ø§Ø´ÛŒ Ø§Ø³Øª Ø³Ø¹ÛŒ Ú©Ù† Ø¢Ù† Ø±Ø§ Ø¨Ø§ Ø±Ù†Ú¯ Ù‡Ø§ÛŒ Ø´Ø§Ø¯ Ø±Ù†Ú¯ Ø¢Ù…ÛŒØ²ÛŒ Ú©Ù†ÛŒ", 
    "Ø§Ú¯Ø± Ø¨ØªÙˆØ§Ù†ÛŒ Ú†ÛŒØ²ÛŒ Ø±Ø§ Ø±ÙˆÛŒØ§Ù¾Ø±Ø¯Ø§Ø²ÛŒ Ú©Ù†ÛŒ Ù¾Ø³ Ø­ØªÙ…Ø§ Ù…ÛŒØªÙˆØ§Ù†ÛŒ Ø¢Ù† Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒ", "Ù…Ù‡Ù… Ù†ÛŒØ³Øª Ú†Ù‚Ø¯Ø± Ø¢Ù‡Ø³ØªÙ‡ Ø­Ø±Ú©Øª Ù…ÛŒÚ©Ù†ÛŒ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ù…ØªÙˆÙ‚Ù Ù†Ø´ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØª Ø®ÙˆØ§Ù‡ÛŒ Ú©Ø±Ø¯", 
    "ÛŒÚ© Ø´Ù…Ø¹ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ù‡Ø²Ø§Ø±Ø§Ù† Ø´Ù…Ø¹ Ø¯ÛŒÚ¯Ø± Ø±Ø§ Ø±ÙˆØ´Ù† Ú©Ù†Ø¯ Ø¨Ø¯ÙˆÙ† Ø¢Ù†Ú©Ù‡ Ø§Ø² Ø¹Ù…Ø±Ø´ Ú©Ø§Ø³ØªÙ‡ Ø´ÙˆØ¯", "Ø´Ø§Ø¯ÛŒ Ø²Ù…Ø§Ù†ÛŒ Ø¯ÙˆÚ†Ù†Ø¯Ø§Ù† Ù…ÛŒØ´ÙˆØ¯ Ú©Ù‡ Ø¢Ù† Ø±Ø§ Ø¨Ø§ Ø¯ÛŒÚ¯Ø±Ø§Ù† ØªÙ‚Ø³ÛŒÙ… Ú©Ù†ÛŒ", 
    "Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ø§Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´ Ø¨ÛŒÙ†ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ Ø³Ø§Ø®ØªÙ† Ø¢Ù† Ø§Ø³Øª", "Ù‡Ø±Ú¯Ø² Ø¨Ø±Ø§ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯Ù† Ø¨Ù‡ Ø¢Ù† Ú©Ø³ÛŒ Ú©Ù‡ Ù…ÛŒØªÙˆØ§Ù†Ø³ØªÛŒ Ø¨Ø§Ø´ÛŒ Ø¯ÛŒØ± Ù†ÛŒØ³Øª", 
    "Ø°Ù‡Ù† Ø§Ù†Ø³Ø§Ù† Ù…Ø§Ù†Ù†Ø¯ ÛŒÚ© Ø¨Ø§Øº Ø§Ø³Øª Ù‡Ø±Ú†Ù‡ Ø¯Ø± Ø¢Ù† Ø¨Ú©Ø§Ø±ÛŒ Ù‡Ù…Ø§Ù† Ø±Ø§ Ø¯Ø±Ùˆ Ù…ÛŒÚ©Ù†ÛŒ", "ÛŒÚ© Ú¯ÙØªÚ¯Ùˆ ØµØ§Ø¯Ù‚Ø§Ù†Ù‡ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¨Ø³ÛŒØ§Ø±ÛŒ Ø§Ø² Ù…Ø´Ú©Ù„Ø§Øª Ø±Ø§ Ø­Ù„ Ú©Ù†Ø¯", 
    "Ø³Ø®Ø§ÙˆØª ÛŒØ¹Ù†ÛŒ Ø¨Ø®Ø´ÛŒØ¯Ù† Ø¨ÛŒØ´ Ø§Ø² ØªÙˆØ§Ù†Ø§ÛŒÛŒ Ø§Øª Ùˆ ØºØ±ÙˆØ± ÛŒØ¹Ù†ÛŒ Ú¯Ø±ÙØªÙ† Ú©Ù…ØªØ± Ø§Ø² Ù†ÛŒØ§Ø²Øª", "Ú©Ø³Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ø§ÙÛŒ Ø¯ÛŒÙˆØ§Ù†Ù‡ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ ÙÚ©Ø± Ú©Ù†Ù†Ø¯ Ù…ÛŒØªÙˆØ§Ù†Ù†Ø¯ Ø¯Ù†ÛŒØ§ Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡Ù†Ø¯ Ù‡Ù…Ø§Ù† Ù‡Ø§ÛŒÛŒ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ø§ Ù…ÛŒÚ©Ù†Ù†Ø¯", 
    "Ø§Ù†ØªÙ‚Ø§Ù… Ú¯Ø±ÙØªÙ† ØªÙˆ Ø±Ø§ Ø¨Ø§ Ø¯Ø´Ù…Ù†Øª Ø¨Ø±Ø§Ø¨Ø± Ù…ÛŒÚ©Ù†Ø¯ Ø§Ù…Ø§ Ø¨Ø®Ø´ÛŒØ¯Ù† Ø§Ùˆ ØªÙˆ Ø±Ø§ Ø¨Ø±ØªØ± Ø§Ø² Ø§Ùˆ Ù‚Ø±Ø§Ø± Ù…ÛŒØ¯Ù‡Ø¯", "Ú©Ø³ÛŒ Ú©Ù‡ Ø³ÙˆØ§Ù„ Ù…ÛŒÙ¾Ø±Ø³Ø¯ Ø¨Ø±Ø§ÛŒ ÛŒÚ© Ø¯Ù‚ÛŒÙ‚Ù‡ Ù†Ø§Ø¯Ø§Ù† Ø§Ø³Øª Ø§Ù…Ø§ Ú©Ø³ÛŒ Ú©Ù‡ Ø³ÙˆØ§Ù„ Ù†Ù…ÛŒÙ¾Ø±Ø³Ø¯ Ø¨Ø±Ø§ÛŒ Ù‡Ù…ÛŒØ´Ù‡ Ù†Ø§Ø¯Ø§Ù† Ø¨Ø§Ù‚ÛŒ Ù…ÛŒÙ…Ø§Ù†Ø¯", 
    "Ø²Ù†Ø¯Ú¯ÛŒ Ú©ÙˆØªØ§Ù‡ØªØ± Ø§Ø² Ø¢Ù† Ø§Ø³Øª Ú©Ù‡ ÙˆÙ‚Øª Ø®ÙˆØ¯ Ø±Ø§ ØµØ±Ù Ù…ØªÙ†ÙØ± Ø¨ÙˆØ¯Ù† Ø§Ø² Ø¯ÛŒÚ¯Ø±Ø§Ù† Ú©Ù†ÛŒ", "Ø¨Ø±Ø§ÛŒ Ø³Ø§Ø®ØªÙ† ÛŒÚ© Ø®Ø§Ù†Ù‡ Ù…Ø­Ú©Ù… Ø¨Ø§ÛŒØ¯ Ù¾Ø§ÛŒÙ‡ Ù‡Ø§ÛŒ Ø¢Ù† Ø±Ø§ Ù‚ÙˆÛŒ Ø¨Ù†Ø§ Ú©Ù†ÛŒ", 
    "ÛŒÚ© Ú©ØªØ§Ø¨ Ø®ÙˆØ¨ Ù…ÛŒØªÙˆØ§Ù†Ø¯ Ø¯ÛŒØ¯Ú¯Ø§Ù‡ ØªÙˆ Ø±Ø§ Ù†Ø³Ø¨Øª Ø¨Ù‡ Ú©Ù„ Ø¯Ù†ÛŒØ§ ØªØºÛŒÛŒØ± Ø¯Ù‡Ø¯", "Ù‚Ø¯Ø±Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø¯Ø± Ú©Ù†ØªØ±Ù„ Ú©Ø±Ø¯Ù† Ø¯ÛŒÚ¯Ø±Ø§Ù† Ù†ÛŒØ³Øª Ø¨Ù„Ú©Ù‡ Ø¯Ø± Ú©Ù†ØªØ±Ù„ Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯ Ø§Ø³Øª", 
    "Ù‡Ø±Ú¯Ø² Ø§Ø±Ø²Ø´ ÛŒÚ© Ù„Ø­Ø¸Ù‡ Ø±Ø§ Ù†Ù…ÛŒÙÙ‡Ù…ÛŒ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Ø¨Ù‡ ÛŒÚ© Ø®Ø§Ø·Ø±Ù‡ ØªØ¨Ø¯ÛŒÙ„ Ø´ÙˆØ¯", "Ø¨Ø±Ø§ÛŒ Ø´Ù†Ø§ Ú©Ø±Ø¯Ù† Ø¯Ø± Ø¬Ù‡Øª Ù…Ø®Ø§Ù„Ù Ø±ÙˆØ¯Ø®Ø§Ù†Ù‡ Ø¨Ø§ÛŒØ¯ Ù‚ÙˆÛŒØªØ± Ø§Ø² Ø¬Ø±ÛŒØ§Ù† Ø¢Ø¨ Ø¨Ø§Ø´ÛŒ", 
    "ÛŒÚ© Ù‚Ù‡Ø±Ù…Ø§Ù† ÙˆØ§Ù‚Ø¹ÛŒ Ú©Ø³ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ø§ ÙˆØ¬ÙˆØ¯ ØªÙ…Ø§Ù… Ø³Ø®ØªÛŒ Ù‡Ø§ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¨Ø±Ù…ÛŒØ®ÛŒØ²Ø¯", "Ø¢Ø±Ø§Ù…Ø´ Ø±Ø§ Ø¯Ø± Ø¯Ø±ÙˆÙ† Ø®ÙˆØ¯Øª Ù¾ÛŒØ¯Ø§ Ú©Ù† Ù†Ù‡ Ø¯Ø± Ø¯Ù†ÛŒØ§ÛŒ Ø¨ÛŒØ±ÙˆÙ†", 
    "Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù‡Ø± Ø¬Ø§ÛŒÛŒ ØªØµÙ…ÛŒÙ… Ú¯Ø±ÙØªÙ† Ø¨Ø±Ø§ÛŒ Ø­Ø±Ú©Øª Ø§Ø³Øª", "Ø§Ú¯Ø± Ø¨Ù‡ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø§Ø¹ØªÙ‚Ø§Ø¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ Ø¢Ù† Ø±Ø§ Ø¯Ø± Ù‡Ù…Ù‡ Ø¬Ø§ Ø®ÙˆØ§Ù‡ÛŒ Ø¯ÛŒØ¯", 
    "Ù‡ÛŒÚ† Ú†ÛŒØ² Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ÛŒ Ø¨Ù‡ Ø¢Ø³Ø§Ù†ÛŒ Ø¨Ù‡ Ø¯Ø³Øª Ù†Ù…ÛŒ Ø¢ÛŒØ¯", "ÛŒÚ© Ø¯Ø±ÙˆØº Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ Ù…Ø¯ØªÛŒ ØªÙˆ Ø±Ø§ Ù†Ø¬Ø§Øª Ø¯Ù‡Ø¯ Ø§Ù…Ø§ Ø¯Ø± Ù†Ù‡Ø§ÛŒØª Ø­Ù‚ÛŒÙ‚Øª Ø¢Ø´Ú©Ø§Ø± Ù…ÛŒØ´ÙˆØ¯", 
    "Ø¨Ø±Ø§ÛŒ Ø´Ù†ÛŒØ¯Ù† ØµØ¯Ø§ÛŒ ÙØ±ØµØª Ù‡Ø§ Ø¨Ø§ÛŒØ¯ Ú¯ÙˆØ´ Ù‡Ø§ÛŒØª Ø±Ø§ ØªÛŒØ² Ú©Ù†ÛŒ", "ÛŒÚ© Ø±Ù‡Ø¨Ø± ÙˆØ§Ù‚Ø¹ÛŒ Ø±Ø§Ù‡ Ø±Ø§ Ø¨Ù„Ø¯ Ø§Ø³Øª Ø±Ø§Ù‡ Ø±Ø§ Ù…ÛŒØ±ÙˆØ¯ Ùˆ Ø±Ø§Ù‡ Ø±Ø§ Ù†Ø´Ø§Ù† Ù…ÛŒØ¯Ù‡Ø¯", 
    "Ù‡Ø±Ú¯Ø² Ø§Ø¬Ø§Ø²Ù‡ Ù†Ø¯Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ù‡Ø§ÛŒØª ØªÙˆ Ø±Ø§ Ù…ØºØ±ÙˆØ± Ùˆ Ø´Ú©Ø³Øª Ù‡Ø§ÛŒØª ØªÙˆ Ø±Ø§ Ù†Ø§Ø§Ù…ÛŒØ¯ Ú©Ù†Ø¯", "Ø²ÛŒØ¨Ø§ÛŒÛŒ ÙˆØ§Ù‚Ø¹ÛŒ Ø¯Ø± Ø³Ø§Ø¯Ú¯ÛŒ Ù†Ù‡ÙØªÙ‡ Ø§Ø³Øª", 
    "ÛŒÚ© Ø¯ÙˆØ³Øª Ø®ÙˆØ¨ Ø¯Ø± Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø³Ø®Øª Ù…Ø§Ù†Ù†Ø¯ Ø¢ÛŒÙ†Ù‡ Ùˆ Ø¯Ø± Ø±ÙˆØ²Ù‡Ø§ÛŒ Ø®ÙˆØ¨ Ù…Ø§Ù†Ù†Ø¯ Ø³Ø§ÛŒÙ‡ Ø§Ø³Øª", "Ø¨Ø±Ø§ÛŒ Ø±Ø³ÛŒØ¯Ù† Ø¨Ù‡ Ù†ÙˆØ± Ø¨Ø§ÛŒØ¯ Ø§Ø² ØªØ§Ø±ÛŒÚ©ÛŒ Ø¹Ø¨ÙˆØ± Ú©Ø±Ø¯", 
    "Ø¯Ø§Ù†Ø´ Ø¨Ø¯ÙˆÙ† Ø¹Ù…Ù„ Ù…Ø§Ù†Ù†Ø¯ Ø§Ø¨Ø±ÛŒ Ø¨ÛŒ Ø¨Ø§Ø±Ø§Ù† Ø§Ø³Øª", "Ø²Ù†Ø¯Ú¯ÛŒ ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø§Ø³Øª Ø³Ø¹ÛŒ Ú©Ù† Ø§Ø² Ø¢Ù† Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒ Ùˆ Ø¬ÙˆØ§Ù†Ù…Ø±Ø¯Ø§Ù†Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒ", 
    "Ø§Ø¹ØªÙ…Ø§Ø¯ Ù…Ø§Ù†Ù†Ø¯ ÛŒÚ© Ú©Ø§ØºØ° Ø§Ø³Øª Ø§Ú¯Ø± Ù…Ú†Ø§Ù„Ù‡ Ø´ÙˆØ¯ Ø¯ÛŒÚ¯Ø± Ù‡Ø±Ú¯Ø² ØµØ§Ù Ù†Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯", "ÛŒÚ© Ù‚Ù„Ø¨ Ù…Ù‡Ø±Ø¨Ø§Ù† Ø§Ø² ØªÙ…Ø§Ù… Ù…Ø¹Ø§Ø¨Ø¯ Ùˆ Ù…Ø³Ø§Ø¬Ø¯ Ø¯Ù†ÛŒØ§ Ù…Ù‚Ø¯Ø³ ØªØ± Ø§Ø³Øª", 
    "Ø¢ÛŒÙ†Ø¯Ù‡ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ú©Ø³Ø§Ù†ÛŒ Ø§Ø³Øª Ú©Ù‡ Ø¨Ù‡ Ø²ÛŒØ¨Ø§ÛŒÛŒ Ø±ÙˆÛŒØ§Ù‡Ø§ÛŒØ´Ø§Ù† Ø§ÛŒÙ…Ø§Ù† Ø¯Ø§Ø±Ù†Ø¯", "Ø¬Ø§Ø¯Ù‡ Ø§Ø¨Ø±ÛŒØ´Ù… ÛŒÚ© Ù…Ø³ÛŒØ± ØªØ¬Ø§Ø±ÛŒ Ø¨Ø§Ø³ØªØ§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ØªØµØ§Ù„ Ø´Ø±Ù‚ Ùˆ ØºØ±Ø¨ Ø¨ÙˆØ¯", 
    "Ú©ÙˆÙ‡ Ø¯Ù…Ø§ÙˆÙ†Ø¯ Ø¨Ù„Ù†Ø¯ØªØ±ÛŒÙ† Ù‚Ù„Ù‡ Ø¢ØªØ´ÙØ´Ø§Ù†ÛŒ Ø¯Ø± Ø®Ø§ÙˆØ±Ù…ÛŒØ§Ù†Ù‡ Ø§Ø³Øª", "Ø¢Ø±Ø´ Ú©Ù…Ø§Ù†Ú¯ÛŒØ± Ù…Ø±Ø² Ø§ÛŒØ±Ø§Ù† Ùˆ ØªÙˆØ±Ø§Ù† Ø±Ø§ Ø¨Ø§ Ù¾Ø±ØªØ§Ø¨ ÛŒÚ© ØªÛŒØ± Ù…Ø´Ø®Øµ Ú©Ø±Ø¯", 
    "Ø®Ù„ÛŒØ¬ ÙØ§Ø±Ø³ ÛŒÚ©ÛŒ Ø§Ø² Ù…Ù‡Ù…ØªØ±ÛŒÙ† Ø¢Ø¨Ø±Ø§Ù‡ Ù‡Ø§ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ© Ø¬Ù‡Ø§Ù† Ø¨Ù‡ Ø´Ù…Ø§Ø± Ù…ÛŒØ±ÙˆØ¯", "Ø±Ø§Ø² ØªØºÛŒÛŒØ± Ú©Ø±Ø¯Ù† Ø¯Ø± Ø§ÛŒÙ† Ø§Ø³Øª Ú©Ù‡ ØªÙ…Ø§Ù… Ø§Ù†Ø±Ú˜ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø±ÙˆÛŒ Ø³Ø§Ø®ØªÙ† Ø¹Ø§Ø¯Øª Ù‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ú¯Ø°Ø§Ø±ÛŒ"
]

# --- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù„Ø§Ú¯ ---
logging.basicConfig(format="%(asctime)s - %(name)s - %(levelname)s - %(message)s", level=logging.INFO)
logger = logging.getLogger(__name__)

# --- Ù…Ø¯ÛŒØ±ÛŒØª Ø¯ÛŒØªØ§Ø¨ÛŒØ³ (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ---
DATABASE_URL = os.environ.get("DATABASE_URL")
def get_db_connection():
    try: return psycopg2.connect(DATABASE_URL)
    except Exception as e:
        logger.error(f"Database connection failed: {e}")
        return None

def setup_database():
    conn = get_db_connection()
    if conn:
        try:
            with conn.cursor() as cur:
                cur.execute("CREATE TABLE IF NOT EXISTS users (user_id BIGINT PRIMARY KEY, first_name VARCHAR(255), username VARCHAR(255), start_time TIMESTAMP WITH TIME ZONE DEFAULT NOW());")
                cur.execute("CREATE TABLE IF NOT EXISTS groups (group_id BIGINT PRIMARY KEY, title VARCHAR(255), member_count INT, added_time TIMESTAMP WITH TIME ZONE DEFAULT NOW());")
                cur.execute("CREATE TABLE IF NOT EXISTS start_message (id INT PRIMARY KEY, message_id BIGINT, chat_id BIGINT);")
                cur.execute("CREATE TABLE IF NOT EXISTS banned_users (user_id BIGINT PRIMARY KEY);")
                cur.execute("CREATE TABLE IF NOT EXISTS banned_groups (group_id BIGINT PRIMARY KEY);")
            conn.commit()
            logger.info("Database setup complete.")
        except Exception as e: logger.error(f"Database setup failed: {e}")
        finally: conn.close()

# --- ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ---
async def is_owner(user_id: int) -> bool: return user_id in OWNER_IDS
async def is_group_admin(user_id: int, chat_id: int, context: ContextTypes.DEFAULT_TYPE) -> bool:
    if await is_owner(user_id): return True
    admins = await context.bot.get_chat_administrators(chat_id)
    return user_id in {admin.user.id for admin in admins}
def convert_persian_to_english_numbers(text: str) -> str:
    if not text: return ""
    return text.translate(str.maketrans("Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹", "0123456789"))

# --- Ù…Ø¯ÛŒØ±ÛŒØª ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ ---
active_games = {'guess_number': {}, 'dooz': {}, 'hangman': {}, 'typing': {}, 'hokm': {}}
active_gharch_games = {}

# --- ##### ØªØºÛŒÛŒØ± Ú©Ù„ÛŒØ¯ÛŒ: Ù…Ù†Ø·Ù‚ Ø¬Ø¯ÛŒØ¯ Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ùˆ Ø¨Ù† ##### ---
async def check_ban_status(update: Update, context: ContextTypes.DEFAULT_TYPE) -> bool:
    """Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ú©Ù‡ Ø¢ÛŒØ§ Ú©Ø§Ø±Ø¨Ø± ÛŒØ§ Ú¯Ø±ÙˆÙ‡ Ø¨Ù† Ø´Ø¯Ù‡ Ø§Ø³Øª ÛŒØ§ Ø®ÛŒØ±. Ø§Ú¯Ø± Ú¯Ø±ÙˆÙ‡ Ø¨Ù† Ø¨Ø§Ø´Ø¯ØŒ Ø±Ø¨Ø§Øª Ø®Ø§Ø±Ø¬ Ù…ÛŒâ€ŒØ´ÙˆØ¯."""
    user = update.effective_user
    chat = update.effective_chat
    if not user: return True # Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø±ÛŒ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´ØªØŒ Ø¨Ù† Ø´Ø¯Ù‡ Ø¯Ø± Ù†Ø¸Ø± Ø¨Ú¯ÛŒØ±

    conn = get_db_connection()
    if not conn: return False # Ø§Ú¯Ø± Ø¯ÛŒØªØ§Ø¨ÛŒØ³ ÙˆØµÙ„ Ù†Ø´Ø¯ØŒ ÙØ±Ø¶ Ø¨Ø± Ø¹Ø¯Ù… Ø¨Ù† Ø¨ÙˆØ¯Ù† Ø§Ø³Øª
    
    is_banned = False
    try:
        with conn.cursor() as cur:
            cur.execute("SELECT 1 FROM banned_users WHERE user_id = %s;", (user.id,))
            if cur.fetchone():
                is_banned = True
            
            if not is_banned and chat.type != 'private':
                cur.execute("SELECT 1 FROM banned_groups WHERE group_id = %s;", (chat.id,))
                if cur.fetchone():
                    is_banned = True
                    try:
                        await context.bot.leave_chat(chat.id)
                    except Exception:
                        pass
    except Exception as e:
        logger.error(f"Error checking ban status: {e}")
    finally:
        conn.close()
    
    return is_banned

async def check_join_for_alert(update: Update, context: ContextTypes.DEFAULT_TYPE) -> bool:
    """
    Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ **Ù¾ÛŒÙˆØ³ØªÙ†** Ø¨Ù‡ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±ØªÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø¯Ø± ØµÙˆØ±Øª Ø¹Ø¯Ù… Ø¹Ø¶ÙˆÛŒØªØŒ Ø§Ù„Ø±Øª Ù…ÛŒâ€ŒØ¯Ù‡Ø¯.
    """
    user = update.effective_user
    if not user or await is_owner(user.id):
        return True

    try:
        member = await context.bot.get_chat_member(chat_id=FORCED_JOIN_CHANNEL, user_id=user.id)
        if member.status in ['member', 'administrator', 'creator']:
            return True
    except Exception as e:
        logger.warning(f"Could not check channel membership for alert: {user.id}: {e}")

    if update.callback_query:
        await update.callback_query.answer(
            " @RHINOSOUL_TM Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶Ùˆ Ø´ÙˆÛŒØ¯",
            show_alert=True
        )
    return False

async def check_forced_join(update: Update, context: ContextTypes.DEFAULT_TYPE) -> bool:
    """
    Ø¹Ø¶ÙˆÛŒØª Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø±Ø§ Ú†Ú© Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ø§Ú¯Ø± Ø¹Ø¶Ùˆ Ù†Ø¨Ø§Ø´Ø¯ØŒ Ù¾ÛŒØ§Ù… Ø¹Ø¶ÙˆÛŒØª Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯Ù‡ Ùˆ False Ø¨Ø±Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø§Ù†Ø¯.
    Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø¹Ø¶ÙˆÛŒØª Ø¯Ø§Ø±Ù†Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯.
    """
    user = update.effective_user
    if not user or await is_owner(user.id):
        return True

    try:
        member = await context.bot.get_chat_member(chat_id=FORCED_JOIN_CHANNEL, user_id=user.id)
        if member.status in ['member', 'administrator', 'creator']:
            return True
    except Exception as e:
        logger.warning(f"Could not check channel membership for {user.id}: {e}")

    keyboard = [[InlineKeyboardButton(" Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ ", url=f"https://t.me/{FORCED_JOIN_CHANNEL.lstrip('@')}")]]
    text = f"â—ï¸{user.mention_html()}ØŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø¹Ø¶Ùˆ Ø´ÙˆÛŒ."
    
    # ØªØ´Ø®ÛŒØµ Ø§ÛŒÙ†Ú©Ù‡ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ù¾ÛŒØ§Ù… Ø¨Ø§Ø´Ø¯ ÛŒØ§ Ø¨Ù‡ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡
    if update.callback_query:
        await update.callback_query.answer(
            " @RHINOSOUL_TM Ø¨Ø±Ø§ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶Ùˆ Ø´ÙˆÛŒØ¯",
            show_alert=True
        )
    elif update.message:
        await update.message.reply_text(
            text, 
            reply_markup=InlineKeyboardMarkup(keyboard), 
            parse_mode=ParseMode.HTML
        )
        
    return False

async def rsgame_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø¯Ø³ØªÙˆØ± Ø§ØµÙ„ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø¨Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø¹Ø¶ÙˆÛŒØª Ùˆ Ø¨Ù‡ ØµÙˆØ±Øª Ø§Ø®ØªØµØ§ØµÛŒ."""
    if await check_ban_status(update, context):
        return
    
    user = update.effective_user
    user_id = user.id  # Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø²Ø¯Ù‡ Ø§Ø³Øª
    is_member = False

    if await is_owner(user_id):
        is_member = True
    else:
        try:
            member = await context.bot.get_chat_member(chat_id=FORCED_JOIN_CHANNEL, user_id=user_id)
            if member.status in ['member', 'administrator', 'creator']:
                is_member = True
        except Exception:
            is_member = False 

    if is_member:
        text = f"ğŸ® {user.first_name} Ø¹Ø²ÛŒØ²ØŒ Ø¨Ù‡ Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.\n\nÙ„Ø·ÙØ§ Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
        
        # Ø´Ù†Ø§Ø³Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¨Ù‡ Ø§Ù†ØªÙ‡Ø§ÛŒ callback_data Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ ØªØ§ Ù¾Ù†Ù„ Ø§Ø®ØªØµØ§ØµÛŒ Ø´ÙˆØ¯
        keyboard = [
            [InlineKeyboardButton("ğŸ† Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±ØªÛŒ Ùˆ Ú¯Ø±ÙˆÙ‡ÛŒ", callback_data=f"rsgame_cat_board_{user_id}")],
            [InlineKeyboardButton("âœï¸ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ§ÛŒÙ¾ÛŒ Ùˆ Ø³Ø±Ø¹ØªÛŒ", callback_data=f"rsgame_cat_typing_{user_id}")],
            [InlineKeyboardButton("ğŸ¤« Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³ (ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†)", callback_data=f"rsgame_cat_anon_{user_id}")],
            [InlineKeyboardButton("âœ–ï¸ Ø¨Ø³ØªÙ† Ù¾Ù†Ù„", callback_data=f"rsgame_close_{user_id}")]
        ]
        
        if update.message:
            await update.message.reply_text(text, reply_markup=InlineKeyboardMarkup(keyboard))
        elif update.callback_query:
            await update.callback_query.answer()
            await update.callback_query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard))
    else:
        text = "â—ï¸Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ØŒ Ù„Ø·ÙØ§ Ø§Ø¨ØªØ¯Ø§ Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ù…Ø§ Ø¹Ø¶Ùˆ Ø´ÙˆÛŒØ¯ Ùˆ Ø³Ù¾Ø³ Ø¯Ú©Ù…Ù‡ Â«Ø¹Ø¶Ùˆ Ø´Ø¯Ù…Â» Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯."
        keyboard = [
            [InlineKeyboardButton("Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„", url=f"https://t.me/{FORCED_JOIN_CHANNEL.lstrip('@')}")],
            [InlineKeyboardButton("âœ… Ø¹Ø¶Ùˆ Ø´Ø¯Ù…", callback_data="rsgame_check_join")]
        ]
        if update.message:
            await update.message.reply_text(text, reply_markup=InlineKeyboardMarkup(keyboard))
        elif update.callback_query:
            await update.callback_query.answer()
            await update.callback_query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard))

async def rsgame_check_join_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¬Ø¯Ø¯ Ø¹Ø¶ÙˆÛŒØª Ù¾Ø³ Ø§Ø² Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ 'Ø¹Ø¶Ùˆ Ø´Ø¯Ù…'."""
    query = update.callback_query
    user = query.from_user
    
    try:
        member = await context.bot.get_chat_member(chat_id=FORCED_JOIN_CHANNEL, user_id=user.id)
        if member.status in ['member', 'administrator', 'creator']:
            await query.answer("Ø¹Ø¶ÙˆÛŒØª Ø´Ù…Ø§ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯!")
            # Ø­Ø§Ù„Ø§ Ú©Ù‡ Ø¹Ø¶ÙˆÛŒØª ØªØ§ÛŒÛŒØ¯ Ø´Ø¯ØŒ Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ø±Ø§ Ø¨Ù‡ Ø§Ùˆ Ù†Ø´Ø§Ù† Ù…ÛŒâ€ŒØ¯Ù‡ÛŒÙ…
            await rsgame_command(update, context)
        else:
            await query.answer("Ø´Ù…Ø§ Ù‡Ù†ÙˆØ² Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø¹Ø¶Ùˆ Ù†Ø´Ø¯Ù‡â€ŒØ§ÛŒØ¯!", show_alert=True)
    except Exception:
        await query.answer("Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ø¨Ø±Ø±Ø³ÛŒ Ø¹Ø¶ÙˆÛŒØª Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ù„Ø­Ø¸Ø§ØªÛŒ Ø¯ÛŒÚ¯Ø± Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.", show_alert=True)

async def rsgame_callback_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø§Ù„Ú©ÛŒØª Ù¾Ù†Ù„."""
    query = update.callback_query
    
    # -- Ø¨Ø®Ø´ Ø¬Ø¯ÛŒØ¯: Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø§Ù„Ú©ÛŒØª Ù¾Ù†Ù„ --
    data = query.data.split('_')
    try:
        # Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø®Ø´ callback_data Ù‡Ù…ÛŒØ´Ù‡ Ø¢ÛŒØ¯ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª
        target_user_id = int(data[-1]) 
    except (ValueError, IndexError):
        await query.answer("Ø®Ø·Ø§: Ø§ÛŒÙ† Ø¯Ú©Ù…Ù‡ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.", show_alert=True)
        return

    clicker_user_id = query.from_user.id

    if clicker_user_id != target_user_id:
        await query.answer("Ø§ÛŒÙ† Ù¾Ù†Ù„ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù†ÛŒØ³Øª!", show_alert=True)
        return
    # -- Ù¾Ø§ÛŒØ§Ù† Ø¨Ø®Ø´ Ø¬Ø¯ÛŒØ¯ --

    await query.answer()
    
    if await check_ban_status(update, context):
        return

    action_type = data[1]
    
    if len(data) > 2 and data[2] == "main":
        await rsgame_command(update, context)
        return
        
    # Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ù‡ ØªØ§Ø¨Ø¹ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ù…Ù†ØªÙ‚Ù„ Ø´Ø¯ØŒ Ù¾Ø³ Ø§ÛŒÙ†Ø¬Ø§ Ù†ÛŒØ§Ø²ÛŒ Ø¨Ù‡ Ø¢Ù† Ù†ÛŒØ³Øª
    # if action_type == "close":
    #    await query.edit_message_text("Ù¾Ù†Ù„ Ø¨Ø³ØªÙ‡ Ø´Ø¯.")
    #    return

    category = data[2]
    user_id = target_user_id
    text = "Ù„Ø·ÙØ§ Ø¨Ø§Ø²ÛŒ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯:"
    keyboard = []
    
    if category == "board":
        text = " Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±ØªÛŒ Ùˆ Ú¯Ø±ÙˆÙ‡ÛŒ:\n\n(Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ø§Ù„Ø²Ø§Ù…ÛŒ Ø§Ø³Øª)"
        keyboard = [
            [InlineKeyboardButton(" Ø­Ú©Ù… Û² Ù†ÙØ±Ù‡ ", callback_data=f"hokm_start_2p_{user_id}")],
            [InlineKeyboardButton(" Ø­Ú©Ù… Û´ Ù†ÙØ±Ù‡ ", callback_data=f"hokm_start_4p_{user_id}")],
            [InlineKeyboardButton(" Ø¯ÙˆØ² (Ø¯Ùˆ Ù†ÙØ±Ù‡) ", callback_data=f"dooz_start_2p_{user_id}")],
            [InlineKeyboardButton(" Ø¨Ø§Ø²Ú¯Ø´Øª ", callback_data=f"rsgame_cat_main_{user_id}")]
        ]
    elif category == "typing":
        text = " Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ§ÛŒÙ¾ÛŒ Ùˆ Ø³Ø±Ø¹ØªÛŒ (Ø¨Ø¯ÙˆÙ† Ø§Ø¬Ø¨Ø§Ø± Ø¹Ø¶ÙˆÛŒØª):"
        keyboard = [
            [InlineKeyboardButton(" Ø­Ø¯Ø³ Ú©Ù„Ù…Ù‡ ", callback_data=f"hads_kalame_start_{user_id}")],
            [InlineKeyboardButton(" ØªØ§ÛŒÙ¾ Ø³Ø±Ø¹ØªÛŒ ", callback_data=f"type_start_{user_id}")],
            [InlineKeyboardButton(" Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ (ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†)", callback_data=f"hads_addad_start_{user_id}")],
            [InlineKeyboardButton(" Ø¨Ø§Ø²Ú¯Ø´Øª ", callback_data=f"rsgame_cat_main_{user_id}")]
        ]
    elif category == "anon":
        if not await is_group_admin(clicker_user_id, query.message.chat.id, context):
            await query.answer("Ø§ÛŒÙ† Ø¨Ø®Ø´ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±Ø§Ù† Ú¯Ø±ÙˆÙ‡ Ø¯Ø± Ø¯Ø³ØªØ±Ø³ Ø§Ø³Øª.", show_alert=True)
            return
            
        text = " Ø¯Ø³ØªÙ‡ Ø¨Ù†Ø¯ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³ (ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†):"
        keyboard = [
            [InlineKeyboardButton(" Ø§Ø¹ØªØ±Ø§Ù (Ù…ØªÙ† Ù¾ÛŒØ´â€ŒÙØ±Ø¶) ", callback_data=f"eteraf_start_default_{user_id}")],
            [InlineKeyboardButton(" Ø§Ø¹ØªØ±Ø§Ù (Ù…ØªÙ† Ø³ÙØ§Ø±Ø´ÛŒ) ", callback_data=f"eteraf_start_custom_{user_id}")],
            [InlineKeyboardButton(" Ù‚Ø§Ø±Ú† (Ø¨Ø§ Ù†Ø¸Ø§Ø±Øª Ú¯Ø§Ø¯) ", callback_data=f"gharch_start_{user_id}")],
            [InlineKeyboardButton(" Ø¨Ø§Ø²Ú¯Ø´Øª ", callback_data=f"rsgame_cat_main_{user_id}")]
        ]
        
    await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard))

# --------------------------- GAME: HOKM (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¯Ø± Ù…Ù†Ø·Ù‚ Ø§ØµÙ„ÛŒ) ---------------------------
# ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ Ø­Ú©Ù… (card_to_persian, create_deck, ...) Ù‡Ù…Ø§Ù†Ù†Ø¯ Ù‚Ø¨Ù„ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯
# ... (Ú©Ø¯ Ø¨Ø§Ø²ÛŒ Ø­Ú©Ù… Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù‚Ø±Ø§Ø± Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ - Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)
import asyncio

async def rsgame_close_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ù…ÛŒâ€ŒØ¨Ù†Ø¯Ø¯."""
    query = update.callback_query
    await query.answer()
    try:
        await query.edit_message_text("Ù¾Ù†Ù„ Ø¨Ø³ØªÙ‡ Ø´Ø¯.")
    except Exception:
        # Ø§Ú¯Ø± Ù¾ÛŒØ§Ù… Ø®ÛŒÙ„ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ Ø¨Ø§Ø´Ø¯ ÛŒØ§ Ù…Ø´Ú©Ù„ÛŒ Ø¯Ø± ÙˆÛŒØ±Ø§ÛŒØ´ Ù¾ÛŒØ´ Ø¨ÛŒØ§ÛŒØ¯ØŒ Ø¢Ù† Ø±Ø§ Ø­Ø°Ù Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        try:
            await query.delete_message()
        except Exception:
            pass

def create_deck():
    """ÛŒÚ© Ø¯Ø³ØªÙ‡ Ú©Ø§Ø±Øª Ù…Ø±ØªØ¨ Ø´Ø¯Ù‡ ÛµÛ²ØªØ§ÛŒÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø¢Ù† Ø±Ø§ Ø¨ÙØ± Ù…ÛŒâ€ŒØ²Ù†Ø¯."""
    suits = ['S', 'H', 'D', 'C']  # Spades, Hearts, Diamonds, Clubs
    ranks = list(range(2, 15))  # 2-10, J(11), Q(12), K(13), A(14)
    deck = [f"{s}{r}" for s in suits for r in ranks]
    random.shuffle(deck)
    return deck

def card_to_persian(card):
    """Ú©Ø§Ø±Øª Ø±Ø§ Ø¨Ù‡ ÙØ±Ù…Øª ÙØ§Ø±Ø³ÛŒ Ø¨Ø§ Ø§ÛŒÙ…ÙˆØ¬ÛŒ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
    if not card: return "ğŸƒ"
    suits = {'S': 'â™ ï¸', 'H': 'â™¥ï¸', 'D': 'â™¦ï¸', 'C': 'â™£ï¸'}
    ranks = {11: 'J', 12: 'Q', 13: 'K', 14: 'A'}
    suit, rank = card[0], int(card[1:])
    # Ù†Ù…Ø§ÛŒØ´ Ø±Ù†Ú© Ú©Ø§Ø±Øª ÛŒØ§ Ø­Ø±Ù Ù…Ø¹Ø§Ø¯Ù„ Ø¢Ù†
    rank_display = str(ranks.get(rank, rank))
    return f"{suits[suit]} {rank_display}"

def get_card_value(card, hokm_suit, trick_suit):
    """Ø§Ø±Ø²Ø´ Ø¹Ø¯Ø¯ÛŒ ÛŒÚ© Ú©Ø§Ø±Øª Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ù‚Ø§ÛŒØ³Ù‡ Ùˆ ØªØ¹ÛŒÛŒÙ† Ø¨Ø±Ù†Ø¯Ù‡ Ø¯Ø³Øª Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
    suit, rank = card[0], int(card[1:])
    value = rank
    if suit == hokm_suit:
        value += 200  # Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ú©Ù… Ø¨Ø§Ù„Ø§ØªØ±ÛŒÙ† Ø§Ø±Ø²Ø´ Ø±Ø§ Ø¯Ø§Ø±Ù†Ø¯
    elif suit == trick_suit:
        value += 100  # Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ Ø²Ù…ÛŒÙ† Ø§Ø±Ø²Ø´ Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø² Ø³Ø§ÛŒØ± Ø®Ø§Ù„â€ŒÙ‡Ø§ Ø¯Ø§Ø±Ù†Ø¯
    return value

async def render_hokm_board(game: dict, context: ContextTypes.DEFAULT_TYPE):
    """
    Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ ØµÙØ­Ù‡ Ø¨Ø§Ø²ÛŒ (Ù…ØªÙ† Ùˆ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§) Ø±Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ ÙˆØ¶Ø¹ÛŒØª ÙØ¹Ù„ÛŒ Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡ ØªÙˆÙ„ÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    (Ù†Ø³Ø®Ù‡ Ø§ØµÙ„Ø§Ø­ Ø´Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ù‚ÛŒÙ‚ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§)
    """
    game_id = game['message_id']
    keyboard = []
    
    p_names = [p['name'] for p in game['players']]
    p_ids = [p['id'] for p in game['players']]
    
    # Ø¯ÛŒÚ©Ø´Ù†Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆÛŒ Ù…ÛŒØ² ØªØ§ Ù‡Ø± Ú©Ø§Ø±Øª Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ø¬Ù„ÙˆÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø®ÙˆØ¯Ø´ Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯
    table_cards_map = {pid: "â–" for pid in p_ids}
    for play in game.get('current_trick', []):
        table_cards_map[play['player_id']] = card_to_persian(play['card'])

    # --- Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ùˆ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆÛŒ Ù…ÛŒØ² ---
    if game['mode'] == '4p':
        team_a_text = f"ğŸ”´ ØªÛŒÙ… 1: {p_names[0]} Ùˆ {p_names[2]}"
        team_b_text = f"ğŸ”µ ØªÛŒÙ… 2: {p_names[1]} Ùˆ {p_names[3]}"
        
        board_layout = [
            [InlineKeyboardButton(team_a_text, callback_data=f"hokm_noop_{game_id}")],
            [InlineKeyboardButton(team_b_text, callback_data=f"hokm_noop_{game_id}")],
            [InlineKeyboardButton("Ø¨Ø§Ø²ÛŒÚ©Ù†", callback_data=f"hokm_noop_{game_id}"), InlineKeyboardButton("Ú©Ø§Ø±Øª Ø¨Ø§Ø²ÛŒ Ø´Ø¯Ù‡", callback_data=f"hokm_noop_{game_id}")],
        ]
        # Ù†Ù…Ø§ÛŒØ´ Ù†Ø§Ù… Ù‡Ø± Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¯Ø± Ú©Ù†Ø§Ø± Ú©Ø§Ø±ØªÛŒ Ú©Ù‡ Ø¨Ø§Ø²ÛŒ Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª
        for i in range(4):
            board_layout.append([
                InlineKeyboardButton(p_names[i], callback_data=f"hokm_noop_{game_id}"), 
                InlineKeyboardButton(table_cards_map[p_ids[i]], callback_data=f"hokm_noop_{game_id}")
            ])
        keyboard.extend(board_layout)
    else: # Ø­Ø§Ù„Øª Ø¯Ùˆ Ù†ÙØ±Ù‡
        board_layout = []
        for i in range(2):
            board_layout.append([
                InlineKeyboardButton(p_names[i], callback_data=f"hokm_noop_{game_id}"), 
                InlineKeyboardButton(table_cards_map[p_ids[i]], callback_data=f"hokm_noop_{game_id}")
            ])
        keyboard.extend(board_layout)

    # --- Ø¨Ø®Ø´ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ùˆ Ø§Ù…ØªÛŒØ§Ø²Ø§Øª ---
    hokm_suit_fa = card_to_persian(f"{game['hokm_suit']}2")[0] if game.get('hokm_suit') else 'â“'
    hakem_name = game.get('hakem_name', '...')
    
    if game['mode'] == '4p':
        trick_score_text = f"Ø¯Ø³Øª: ğŸ”´ {game['trick_scores']['A']} - {game['trick_scores']['B']} ğŸ”µ"
        game_score_text = f"Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: ğŸ”´ {game['game_scores']['A']} - {game['game_scores']['B']} ğŸ”µ"
    else:
        trick_score_text = f"Ø¯Ø³Øª: {p_names[0]} {game['trick_scores'][p_ids[0]]} - {game['trick_scores'][p_ids[1]]} {p_names[1]}"
        game_score_text = f"Ø§Ù…ØªÛŒØ§Ø² Ú©Ù„: {p_names[0]} {game['game_scores'][p_ids[0]]} - {game['game_scores'][p_ids[1]]} {p_names[1]}"

    keyboard.append([InlineKeyboardButton(f"Ø­Ø§Ú©Ù…: {hakem_name}", callback_data=f"hokm_noop_{game_id}"), InlineKeyboardButton(f"Ø­Ú©Ù…: {hokm_suit_fa}", callback_data=f"hokm_noop_{game_id}")])
    keyboard.append([InlineKeyboardButton(trick_score_text, callback_data=f"hokm_noop_{game_id}")])
    keyboard.append([InlineKeyboardButton(game_score_text, callback_data=f"hokm_noop_{game_id}")])

    # --- Ø¨Ø®Ø´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ÛŒ ---
    keyboard.append([InlineKeyboardButton("ğŸƒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø³Øª Ù…Ù† (Ø®ØµÙˆØµÛŒ)", callback_data=f"hokm_showhand_{game_id}")])

    # Ù†Ù…Ø§ÛŒØ´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ú©Ù… ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø­Ø§Ú©Ù…
    if game['status'] == 'hakem_choosing' and game.get('turn_index') is not None and game['players'][game['turn_index']]['id'] == game.get('hakem_id'):
        suit_map = {'â™ ï¸': 'S', 'â™¥ï¸': 'H', 'â™¦ï¸': 'D', 'â™£ï¸': 'C'}
        choose_buttons = [InlineKeyboardButton(emoji, callback_data=f"hokm_choose_{game_id}_{char}") for emoji, char in suit_map.items()]
        keyboard.append(choose_buttons)
    # Ù†Ù…Ø§ÛŒØ´ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†ÛŒ Ú©Ù‡ Ù†ÙˆØ¨ØªØ´ Ø§Ø³Øª
    elif game['status'] == 'playing' and game.get('turn_index') is not None:
        current_player_id = game['players'][game['turn_index']]['id']
        if current_player_id in game['hands']:
            player_hand = sorted(game['hands'][current_player_id])
            card_buttons = [InlineKeyboardButton(str(i + 1), callback_data=f"hokm_play_{game_id}_{i}") for i in range(len(player_hand))]
            # ØªÙ‚Ø³ÛŒÙ… Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ Ø¯Ø± Ø³Ø·Ø±Ù‡Ø§ÛŒ Û· ØªØ§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø²ÛŒØ¨Ø§ÛŒÛŒ
            for i in range(0, len(card_buttons), 7):
                keyboard.append(card_buttons[i:i+7])
    
    return InlineKeyboardMarkup(keyboard)

async def hokm_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    user = query.from_user
    chat_id = query.message.chat.id
    
    # Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø±Ø§ Ø§Ø² Ú©Ø¯ Ø§ØµÙ„ÛŒ Ø®ÙˆØ¯ØªØ§Ù† ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒØ¯
    # if await check_ban_status(update, context): return
        
    data = query.data.split('_'); action = data[1]

    if action == "start":
        await query.answer()
        mode = data[2]
        max_players = 4 if mode == '4p' else 2

        if chat_id not in active_games['hokm']:
            active_games['hokm'][chat_id] = {}
        
        sent_message = await query.message.reply_text(
            f"Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒ Ø­Ú©Ù… {max_players} Ù†ÙØ±Ù‡..."
        )
        
        game_id = sent_message.message_id 
        
        game = {
            "status": "joining", 
            "mode": mode, 
            "players": [{'id': user.id, 'name': user.first_name}], 
            "message_id": game_id,
            "hands": {}, "deck": [], "hakem_id": None
        }
        active_games['hokm'][chat_id][game_id] = game
        
        keyboard = [[InlineKeyboardButton(f"Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ (1/{max_players})", callback_data=f"hokm_join_{game_id}")]]
        await sent_message.edit_text(
            f"Ø¨Ø§Ø²ÛŒ Ø­Ú©Ù… {max_players} Ù†ÙØ±Ù‡ ØªÙˆØ³Ø· {user.mention_html()} Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! Ù…Ù†ØªØ¸Ø± Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†...\n @RHINOSOUL_TM Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ø´ÙˆÛŒØ¯", 
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode=ParseMode.HTML
        )
        
        try:
            await query.message.delete()
        except Exception:
            pass
        return

    game_id = int(data[2])
    if chat_id not in active_games['hokm'] or game_id not in active_games['hokm'][chat_id]:
        await query.answer("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø¯ÛŒÚ¯Ø± ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª.", show_alert=True)
        try: await query.edit_message_text("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª.")
        except: pass
        return
    
    game = active_games['hokm'][chat_id][game_id]

    if action == "join":
        # Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ø±Ø§ Ø§Ø² Ú©Ø¯ Ø§ØµÙ„ÛŒ Ø®ÙˆØ¯ØªØ§Ù† ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ Ú©Ù†ÛŒØ¯
        # if not await check_join_for_alert(update, context): return

        if any(p['id'] == user.id for p in game['players']): 
            return await query.answer("Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ù¾ÛŒÙˆØ³ØªÙ‡â€ŒØ§ÛŒØ¯!", show_alert=True)
        max_players = 4 if game['mode'] == '4p' else 2
        if len(game['players']) >= max_players: 
            return await query.answer("Ø¸Ø±ÙÛŒØª Ø¨Ø§Ø²ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø§Ø³Øª.", show_alert=True)
        
        await query.answer()
        game['players'].append({'id': user.id, 'name': user.first_name})
        num_players = len(game['players'])

        if num_players < max_players:
            keyboard = [[InlineKeyboardButton(f"Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ ({num_players}/{max_players})", callback_data=f"hokm_join_{game_id}")]]
            await query.edit_message_text(f"Ø¨Ø§Ø²ÛŒ Ø­Ú©Ù… (ID: {game_id})\nØ¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† ÙˆØ§Ø±Ø¯ Ø´Ø¯Ù‡: {num_players}/{max_players}\n @RHINOSOUL_TM Ø¨Ø±Ø§ÛŒ Ø´Ø±Ú©Øª Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ø´ÙˆÛŒØ¯", reply_markup=InlineKeyboardMarkup(keyboard))
        else:
            p_ids = [p['id'] for p in game['players']]
            game.update({
                "status": "dealing_first_5", "deck": create_deck(), "hands": {pid: [] for pid in p_ids},
                "hakem_id": None, "hakem_name": None, "turn_index": 0, "hokm_suit": None, "current_trick": [],
                "trick_scores": {'A': 0, 'B': 0} if game['mode'] == '4p' else {pid: 0 for pid in p_ids},
                "game_scores": game.get('game_scores', {'A': 0, 'B': 0} if game['mode'] == '4p' else {pid: 0 for pid in p_ids})
            })

            for _ in range(5):
                for p in game['players']: game['hands'][p['id']].append(game['deck'].pop(0))
            
            hakem_p = next((p for p in game['players'] if 'S14' in game['hands'][p['id']]), game['players'][0])
            game.update({"hakem_id": hakem_p['id'], "hakem_name": hakem_p['name'], "status": 'hakem_choosing'})
            game['turn_index'] = next(i for i, p in enumerate(game['players']) if p['id'] == hakem_p['id'])
            
            reply_markup = await render_hokm_board(game, context)
            await query.edit_message_text(f"Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ú©Ø§Ù…Ù„ Ø´Ø¯Ù†Ø¯!\nØ­Ø§Ú©Ù…: {game['hakem_name']}\n\nÙ†ÙˆØ¨Øª Ø´Ù…Ø§Ø³Øª Ú©Ù‡ Ø­Ú©Ù… Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯.", reply_markup=reply_markup)
    
    elif action == "choose":
        if user.id != game.get('hakem_id'): return await query.answer("Ø´Ù…Ø§ Ø­Ø§Ú©Ù… Ù†ÛŒØ³ØªÛŒØ¯!", show_alert=True)
        if game['status'] != 'hakem_choosing': return await query.answer("Ø§Ù„Ø§Ù† Ø²Ù…Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ú©Ù… Ù†ÛŒØ³Øª!", show_alert=True)
        
        await query.answer()
        game['hokm_suit'] = data[3]
        
        for p in game['players']:
            while len(game['hands'][p['id']]) < 13: 
                if not game['deck']: break
                game['hands'][p['id']].append(game['deck'].pop(0))
        
        game['status'] = 'playing'
        game['turn_index'] = next(i for i, p in enumerate(game['players']) if p['id'] == game['hakem_id'])
        turn_player_name = game['players'][game['turn_index']]['name']
        
        reply_markup = await render_hokm_board(game, context)
        await query.edit_message_text(f"Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ø´Ø¯! Ø­Ú©Ù…: {card_to_persian(game['hokm_suit']+'2')[0]}\n\nÙ†ÙˆØ¨Øª {turn_player_name} Ø§Ø³Øª.", reply_markup=reply_markup)

    elif action == "showhand":
        if not any(p['id'] == user.id for p in game['players']): return await query.answer("Ø´Ù…Ø§ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÛŒÙ† Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ù†ÛŒØ³ØªÛŒØ¯!", show_alert=True)
        hand = sorted(game['hands'].get(user.id, []))
        hand_str = "\n".join([f"{i+1}. {card_to_persian(c)}" for i, c in enumerate(hand)]) or "Ø´Ù…Ø§ Ú©Ø§Ø±ØªÛŒ Ø¯Ø± Ø¯Ø³Øª Ù†Ø¯Ø§Ø±ÛŒØ¯."
        await query.answer(f"Ø¯Ø³Øª Ø´Ù…Ø§:\n{hand_str}", show_alert=True)

    elif action == "play":
        if user.id != game['players'][game['turn_index']]['id']: return await query.answer("Ù†ÙˆØ¨Øª Ø´Ù…Ø§ Ù†ÛŒØ³Øª!", show_alert=True)
        
        card_index = int(data[3])
        hand = sorted(game['hands'][user.id]) 
        if not (0 <= card_index < len(hand)): return await query.answer("Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±Øª Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.", show_alert=True)
        
        card_played = hand[card_index]
        if game['current_trick']:
            trick_suit = game['current_trick'][0]['card'][0]
            if any(c.startswith(trick_suit) for c in hand) and not card_played.startswith(trick_suit):
                return await query.answer(f"Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø§Ø² Ø®Ø§Ù„ Ø²Ù…ÛŒÙ† ({card_to_persian(trick_suit+'2')[0]}) Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯!", show_alert=True)

        await query.answer()
        game['hands'][user.id].remove(card_played)
        game['current_trick'].append({'player_id': user.id, 'card': card_played})

        num_players = len(game['players'])
        # --- Ø§Ú¯Ø± Ø¯Ø³Øª (Trick) Ù‡Ù†ÙˆØ² ØªÚ©Ù…ÛŒÙ„ Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ ---
        if len(game['current_trick']) < num_players:
            game['turn_index'] = (game['turn_index'] + 1) % num_players
            turn_player_name = game['players'][game['turn_index']]['name']
            reply_markup = await render_hokm_board(game, context)
            await query.edit_message_text(f"Ø­Ú©Ù…: {card_to_persian(game['hokm_suit']+'2')[0]}\n\nÙ†ÙˆØ¨Øª {turn_player_name} Ø§Ø³Øª.", reply_markup=reply_markup)
            return

        # --- Ø§Ú¯Ø± Ø¯Ø³Øª (Trick) ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ ---
        trick_suit = game['current_trick'][0]['card'][0]
        winner_play = max(game['current_trick'], key=lambda p: get_card_value(p['card'], game['hokm_suit'], trick_suit))
        winner_id = winner_play['player_id']
        winner_name = next(p['name'] for p in game['players'] if p['id'] == winner_id)
        
        if game['mode'] == '4p':
            winner_team = 'A' if winner_id in [game['players'][0]['id'], game['players'][2]['id']] else 'B'
            game['trick_scores'][winner_team] += 1
            round_over = game['trick_scores']['A'] == 7 or game['trick_scores']['B'] == 7
        else:
            game['trick_scores'][winner_id] += 1
            round_over = any(score == 7 for score in game['trick_scores'].values())

        # Ù†ÙˆØ¨Øª Ø´Ø±ÙˆØ¹ Ø¯Ø³Øª Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ø¯Ø³Øª Ø§Ø³Øª
        game['turn_index'] = next(i for i, p in enumerate(game['players']) if p['id'] == winner_id)
        
        # Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆÙ‚Øª Ù†ØªÛŒØ¬Ù‡ Ø¯Ø³Øª Ùˆ Ø³Ù¾Ø³ Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø±ÙˆÛŒ Ù…ÛŒØ²
        trick_cards_for_display = game['current_trick'][:]
        game['current_trick'] = []
        
        turn_player_name = game['players'][game['turn_index']]['name']
        temp_game_state = game.copy(); temp_game_state['current_trick'] = trick_cards_for_display
        temp_reply_markup = await render_hokm_board(temp_game_state, context)
        await query.edit_message_text(f"Ø¨Ø±Ù†Ø¯Ù‡ Ø§ÛŒÙ† Ø¯Ø³Øª: {winner_name}\n\nÙ†ÙˆØ¨Øª Ø´Ø±ÙˆØ¹ Ø¯Ø³Øª Ø¨Ø¹Ø¯ÛŒ Ø¨Ø§ {turn_player_name} Ø§Ø³Øª.", reply_markup=temp_reply_markup)
        
        await asyncio.sleep(2.5)

        # --- Ø§Ú¯Ø± Ø¯ÙˆØ± (Round) ØªÙ…Ø§Ù… Ù†Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ ---
        if not round_over:
            reply_markup = await render_hokm_board(game, context)
            await query.edit_message_text(f"Ø­Ú©Ù…: {card_to_persian(game['hokm_suit']+'2')[0]}\n\nÙ†ÙˆØ¨Øª {turn_player_name} Ø§Ø³Øª.", reply_markup=reply_markup)
        # --- Ø§Ú¯Ø± Ø¯ÙˆØ± (Round) ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯ ---
        else:
            if game['mode'] == '4p':
                winning_team_name = 'A' if game['trick_scores']['A'] == 7 else 'B'
                game['game_scores'][winning_team_name] += 1
                winner_display_name = f"ØªÛŒÙ… {winning_team_name}"
                game_over = game['game_scores'][winning_team_name] == 7
            else:
                round_winner_id = next(pid for pid, score in game['trick_scores'].items() if score == 7)
                winner_display_name = next(p['name'] for p in game['players'] if p['id'] == round_winner_id)
                game['game_scores'][round_winner_id] += 1
                game_over = any(score == 7 for score in game['game_scores'].values())

            if game_over:
                await query.edit_message_text(f"ğŸ† **Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯!** ğŸ†\n\nØ¨Ø±Ù†Ø¯Ù‡ Ù†Ù‡Ø§ÛŒÛŒ: **{winner_display_name}**", parse_mode=ParseMode.MARKDOWN)
                del active_games['hokm'][chat_id][game_id]
                return
            
            # --- Ù…Ù†Ø·Ù‚ ØªØ¹ÛŒÛŒÙ† Ø­Ø§Ú©Ù… Ø¨Ø¹Ø¯ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø´Ù…Ø§ ---
            current_hakem_index = next(i for i, p in enumerate(game['players']) if p['id'] == game['hakem_id'])
            if game['mode'] == '4p':
                hakem_team = 'A' if current_hakem_index in [0, 2] else 'B'
                if winning_team_name == hakem_team:
                    next_hakem_index = current_hakem_index # Ø­Ø§Ú©Ù… Ø¨Ø±Ù†Ø¯Ù‡ØŒ Ø­Ø§Ú©Ù… Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯
                else:
                    next_hakem_index = (current_hakem_index + 1) % 4 # Ø­Ø§Ú©Ù…ÛŒØª Ø¨Ù‡ Ù†ÙØ± Ø¨Ø¹Ø¯ÛŒ Ù…Ù†ØªÙ‚Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯
            else: # 2p
                round_winner_id = next(pid for pid, score in game['trick_scores'].items() if score == 7)
                if round_winner_id == game['hakem_id']:
                    next_hakem_index = current_hakem_index
                else:
                    next_hakem_index = (current_hakem_index + 1) % 2
            
            # Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ø¯ÙˆØ± Ø¬Ø¯ÛŒØ¯
            p_ids = [p['id'] for p in game['players']]
            game.update({ 
                "status": "dealing_first_5", "deck": create_deck(), 
                "hands": {pid: [] for pid in p_ids},
                "trick_scores": {'A': 0, 'B': 0} if game['mode'] == '4p' else {pid: 0 for pid in p_ids} 
            })
            for _ in range(5):
                for p in game['players']: game['hands'][p['id']].append(game['deck'].pop(0))
            
            game['hakem_id'] = game['players'][next_hakem_index]['id']
            game['hakem_name'] = game['players'][next_hakem_index]['name']
            game['status'] = 'hakem_choosing'
            game['turn_index'] = next_hakem_index

            reply_markup = await render_hokm_board(game, context)
            await query.edit_message_text(f"Ø§ÛŒÙ† Ø¯Ø³Øª ØªÙ…Ø§Ù… Ø´Ø¯! Ø¨Ø±Ù†Ø¯Ù‡: {winner_display_name}\n\n-- Ø¯ÙˆØ± Ø¬Ø¯ÛŒØ¯ --\nØ­Ø§Ú©Ù… Ø¬Ø¯ÛŒØ¯: {game['hakem_name']}\nÙ…Ù†ØªØ¸Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ø­Ú©Ù…...", reply_markup=reply_markup)
            
    elif action == "noop":
        await query.answer()

# --------------------------- GAME: GUESS THE NUMBER (ConversationHandler - Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) ---------------------------
async def hads_addad_start_callback(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()
    
    if await check_ban_status(update, context): return ConversationHandler.END
    
    # Ø§Ù„Ø±Øª Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ
    if not await is_group_admin(query.from_user.id, query.message.chat.id, context):
        await query.answer("âŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ ÙÙ‚Ø· ØªÙˆØ³Ø· Ù…Ø¯ÛŒØ±Ø§Ù† Ú¯Ø±ÙˆÙ‡ Ù‚Ø§Ø¨Ù„ Ø§Ø¬Ø±Ø§Ø³Øª.", show_alert=True)
        return ConversationHandler.END
        
    if query.message.chat.id in active_games['guess_number']:
        await query.answer("ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ Ø¯Ø± Ø§ÛŒÙ† Ú¯Ø±ÙˆÙ‡ ÙØ¹Ø§Ù„ Ø§Ø³Øª.", show_alert=True)
        return ConversationHandler.END
        
    await query.edit_message_text("Ø¨Ø§Ø²Ù‡ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒØ¯. (Ù…Ø«Ø§Ù„: `1-1000`)\nØ¨Ø±Ø§ÛŒ Ù„ØºÙˆ /cancel Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.", parse_mode=ParseMode.MARKDOWN)
    return SELECTING_RANGE

async def receive_range(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    chat = update.effective_chat
    try:
        min_str, max_str = convert_persian_to_english_numbers(update.message.text).split('-')
        min_range, max_range = int(min_str.strip()), int(max_str.strip())
        if min_range >= max_range: raise ValueError
    except:
        await update.message.reply_text("ÙØ±Ù…Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§ Ø¨Ù‡ Ø§ÛŒÙ† ØµÙˆØ±Øª ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯: `Ø¹Ø¯Ø¯ Ú©ÙˆÚ†Ú©-Ø¹Ø¯Ø¯ Ø¨Ø²Ø±Ú¯`", parse_mode=ParseMode.MARKDOWN)
        return SELECTING_RANGE
    secret_number = random.randint(min_range, max_range)
    active_games['guess_number'][chat.id] = {"number": secret_number}
    await update.message.reply_text(f"ğŸ² **Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ Ø´Ø±ÙˆØ¹ Ø´Ø¯!** ğŸ²\n\nÛŒÚ© Ø¹Ø¯Ø¯ Ø¨ÛŒÙ† **{min_range}** Ùˆ **{max_range}** Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡.", parse_mode=ParseMode.MARKDOWN)
    return GUESSING

async def handle_guess_conversation(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    chat_id = update.effective_chat.id
    if chat_id not in active_games['guess_number']: return ConversationHandler.END
    guess = int(convert_persian_to_english_numbers(update.message.text))
    secret_number = active_games['guess_number'][chat_id]['number']
    user = update.effective_user
    if guess < secret_number: await update.message.reply_text("Ø¨Ø§Ù„Ø§ØªØ± â¬†ï¸")
    elif guess > secret_number: await update.message.reply_text("Ù¾Ø§ÛŒÛŒÙ†â€ŒØªØ± â¬‡ï¸")
    else:
        await update.message.reply_text(f"ğŸ‰ **ØªØ¨Ø±ÛŒÚ©!** {user.mention_html()} Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯! ğŸ‰\n\nØ¹Ø¯Ø¯ ØµØ­ÛŒØ­ **{secret_number}** Ø¨ÙˆØ¯.", parse_mode=ParseMode.HTML)
        del active_games['guess_number'][chat_id]
        return ConversationHandler.END
    return GUESSING

async def cancel_game_conversation(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    if update.effective_chat.id in active_games['guess_number']: del active_games['guess_number'][update.effective_chat.id]
    await update.message.reply_text('Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ Ù„ØºÙˆ Ø´Ø¯.')
    # Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ
    await rsgame_command(update, context)
    return ConversationHandler.END

# --------------------------- GAME: DOOZ (TIC-TAC-TOE) - ##### Ø¨Ø§Ø²Ù†ÙˆÛŒØ³ÛŒ Ú©Ø§Ù…Ù„ ##### ---------------------------
async def dooz_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    user = query.from_user
    chat_id = query.message.chat.id
    
    if await check_ban_status(update, context): return
    
    data = query.data.split('_'); action = data[1]

    if action == "start":
        await query.answer()
        
        if chat_id not in active_games['dooz']:
            active_games['dooz'][chat_id] = {}

        # ÛŒÚ© Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø®Ø§Øµ Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
        sent_message = await query.message.reply_text(
            f"Ø¯Ø± Ø­Ø§Ù„ Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ²..."
        )

        # Ø§Ø² Ø¢ÛŒØ¯ÛŒ Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ø´Ù†Ø§Ø³Ù‡ Ù…Ù†Ø­ØµØ± Ø¨Ù‡ ÙØ±Ø¯ Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
        game_id = sent_message.message_id
        
        game = {
            "status": "joining",
            "players_info": [{'id': user.id, 'name': user.first_name, 'symbol': 'âŒ'}],
            "board": [[" "]*3 for _ in range(3)],
            "turn": None
        }
        active_games['dooz'][chat_id][game_id] = game
        
        keyboard = [[InlineKeyboardButton("Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ (1/2)", callback_data=f"dooz_join_{game_id}")]]
        await sent_message.edit_text(
            f"Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ² ØªÙˆØ³Ø· {user.mention_html()} Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯! Ù…Ù†ØªØ¸Ø± Ø­Ø±ÛŒÙ...\n @RHINOSOUL_TM Ø¨Ø±Ø§ÛŒ Ù¾ÛŒÙˆØ³ØªÙ† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ø¹Ø¶Ùˆ Ú©Ø§Ù†Ø§Ù„ Ø´ÙˆÛŒØ¯", 
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode=ParseMode.HTML
        )
        try:
            await query.message.delete()
        except Exception:
            pass

        return

    game_id = int(data[2])
    if chat_id not in active_games['dooz'] or game_id not in active_games['dooz'][chat_id]:
        await query.answer("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø¯ÛŒÚ¯Ø± ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª.", show_alert=True)
        try: await query.edit_message_text("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯Ù‡ Ø§Ø³Øª.")
        except: pass
        return
        
    game = active_games['dooz'][chat_id][game_id]

    if action == "join":
        if not await check_join_for_alert(update, context): return

        if any(p['id'] == user.id for p in game['players_info']):
            return await query.answer("Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ Ù¾ÛŒÙˆØ³ØªÙ‡â€ŒØ§ÛŒØ¯!", show_alert=True)
        
        if len(game['players_info']) >= 2:
            return await query.answer("Ø¸Ø±ÙÛŒØª Ø¨Ø§Ø²ÛŒ ØªÚ©Ù…ÛŒÙ„ Ø§Ø³Øª.", show_alert=True)
        
        await query.answer()
        game['players_info'].append({'id': user.id, 'name': user.first_name, 'symbol': 'â­•ï¸'})
        game['status'] = 'playing'
        game['turn'] = game['players_info'][0]['id']

        p1 = game['players_info'][0]
        p2 = game['players_info'][1]

        text = f"Ø¨Ø§Ø²ÛŒ Ø´Ø±ÙˆØ¹ Ø´Ø¯!\n{p1['name']} ({p1['symbol']}) âš”ï¸ {p2['name']} ({p2['symbol']})\n\nÙ†ÙˆØ¨Øª {p1['name']} Ø§Ø³Øª."
        
        keyboard = [[
            InlineKeyboardButton(" ", callback_data=f"dooz_move_{game_id}_{r*3+c}") 
            for c in range(3)] for r in range(3)
        ]
        await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(keyboard), parse_mode=ParseMode.HTML)

    elif action == "move":
        if user.id not in [p['id'] for p in game['players_info']]:
            return await query.answer("Ø´Ù…Ø§ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø§ÛŒÙ† Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ù†ÛŒØ³ØªÛŒØ¯!", show_alert=True)
        if user.id != game['turn']:
            return await query.answer("Ù†ÙˆØ¨Øª Ø´Ù…Ø§ Ù†ÛŒØ³Øª!", show_alert=True)

        cell_index = int(data[3])
        row, col = divmod(cell_index, 3)
        if game['board'][row][col] != " ":
            return await query.answer("Ø§ÛŒÙ† Ø®Ø§Ù†Ù‡ Ù¾Ø± Ø´Ø¯Ù‡ Ø§Ø³Øª!", show_alert=True)
        
        await query.answer()
        
        current_player = next(p for p in game['players_info'] if p['id'] == user.id)
        symbol = current_player['symbol']
        game['board'][row][col] = symbol
        
        b = game['board']
        win = any(all(c==symbol for c in r) for r in b) or \
              any(all(b[r][c]==symbol for r in range(3)) for c in range(3)) or \
              all(b[i][i]==symbol for i in range(3)) or \
              all(b[i][2-i]==symbol for i in range(3))
        
        is_draw = all(c!=" " for r in b for c in r) and not win
        winner = user.id if win else "draw" if is_draw else None
        
        next_player = next(p for p in game['players_info'] if p['id'] != user.id)
        game['turn'] = next_player['id']
        
        board_rows = []
        for r in range(3):
            row_buttons = []
            for c in range(3):
                row_buttons.append(InlineKeyboardButton(b[r][c], callback_data=f"dooz_move_{game_id}_{r*3+c}"))
            board_rows.append(row_buttons)

        if winner:
            text = "Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯! ğŸ¤" if winner == "draw" else f"Ø¨Ø§Ø²ÛŒ ØªÙ…Ø§Ù… Ø´Ø¯! Ø¨Ø±Ù†Ø¯Ù‡: {current_player['name']} ğŸ†"
            del active_games['dooz'][chat_id][game_id]
            if not active_games['dooz'][chat_id]:
                del active_games['dooz'][chat_id]
        else:
            text = f"Ù†ÙˆØ¨Øª {next_player['name']} ({next_player['symbol']}) Ø§Ø³Øª."
        
        await query.edit_message_text(text, reply_markup=InlineKeyboardMarkup(board_rows), parse_mode=ParseMode.HTML)

# --------------------------- GAME: HADS KALAME (Ø¨Ø§ Ø¬Ø§Ù† Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡) ---------------------------
async def hads_kalame_start_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()
    
    if await check_ban_status(update, context): return
    
    chat_id = update.effective_chat.id
    if chat_id in active_games['hangman']:
        await query.answer("ÛŒÚ© Ø¨Ø§Ø²ÛŒ Ø­Ø¯Ø³ Ú©Ù„Ù…Ù‡ ÙØ¹Ø§Ù„ Ø§Ø³Øª.", show_alert=True)
        return
        
    word = random.choice(WORD_LIST)
    active_games['hangman'][chat_id] = {"word": word, "display": ["_"] * len(word), "guessed_letters": set(), "players": {}}
    game = active_games['hangman'][chat_id]
    text = f"ğŸ•µï¸â€â™‚ï¸ **Ø­Ø¯Ø³ Ú©Ù„Ù…Ù‡ (Ø±Ù‚Ø§Ø¨ØªÛŒ) Ø´Ø±ÙˆØ¹ Ø´Ø¯!**\n\nÙ‡Ø± Ú©Ø§Ø±Ø¨Ø± {INITIAL_LIVES} Ø¬Ø§Ù† Ø¯Ø§Ø±Ø¯.\n\n|Ù†Ú©ØªÙ‡*:|Ø¨Ù‡ ØµÙˆØ±Øª ØªÚ© Ø­Ø±ÙÛŒ Ø­Ø¯Ø³ Ø¨Ø²Ù†ÛŒØ¯.Ù…Ø«Ø§Ù„:(Ù…)*\n\nÚ©Ù„Ù…Ù‡: `{' '.join(game['display'])}`"
    await query.edit_message_text(text, parse_mode=ParseMode.MARKDOWN)

async def handle_letter_guess(update: Update, context: ContextTypes.DEFAULT_TYPE):
    chat_id, user = update.effective_chat.id, update.effective_user
    if chat_id not in active_games['hangman']: return
    if await check_ban_status(update, context): return

    guess = update.message.text.strip()
    game = active_games['hangman'][chat_id]
    
    if user.id not in game['players']: game['players'][user.id] = INITIAL_LIVES
    if game['players'][user.id] == 0: 
        await update.message.reply_text(f"{user.mention_html()}ØŒ Ø´Ù…Ø§ ØªÙ…Ø§Ù… Ø¬Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒØ¯!", parse_mode=ParseMode.HTML)
        return

    # ##### ØªØºÛŒÛŒØ± Ú©Ù„ÛŒØ¯ÛŒ: Ø§Ø·Ù„Ø§Ø¹â€ŒØ±Ø³Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ø±Ù ØªÚ©Ø±Ø§Ø±ÛŒ #####
    if guess in game['guessed_letters']:
        await update.message.reply_text("Ø§ÛŒÙ† Ø­Ø±Ù Ù‚Ø¨Ù„Ø§Ù‹ Ú¯ÙØªÙ‡ Ø´Ø¯Ù‡!", quote=True)
        return

    game['guessed_letters'].add(guess)
    if guess in game['word']:
        for i, letter in enumerate(game['word']):
            if letter == guess: game['display'][i] = letter
        if "_" not in game['display']:
            await update.message.reply_text(f"âœ… **{user.mention_html()}** Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯! Ú©Ù„Ù…Ù‡ ØµØ­ÛŒØ­ `{game['word']}` Ø¨ÙˆØ¯.", parse_mode=ParseMode.HTML, reply_markup=None)
            del active_games['hangman'][chat_id]
        else:
            await update.message.reply_text(f"`{' '.join(game['display'])}`", parse_mode=ParseMode.MARKDOWN)
    else:
        game['players'][user.id] -= 1
        lives_left = game['players'][user.id]
        if lives_left > 0:
            await update.message.reply_text(f"Ø§Ø´ØªØ¨Ø§Ù‡ Ø¨ÙˆØ¯ {user.mention_html()}! Ø´Ù…Ø§ **{lives_left}** Ø¬Ø§Ù† Ø¯ÛŒÚ¯Ø± Ø¯Ø§Ø±ÛŒØ¯.", parse_mode=ParseMode.HTML)
        else:
            await update.message.reply_text(f"{user.mention_html()} ØªÙ…Ø§Ù… Ø¬Ø§Ù†â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯ Ùˆ Ø§Ø² Ø¨Ø§Ø²ÛŒ Ø­Ø°Ù Ø´Ø¯.", parse_mode=ParseMode.HTML)
            # Ú†Ú© Ú©Ø±Ø¯Ù† Ø§ÛŒÙ†Ú©Ù‡ Ø¢ÛŒØ§ Ù‡Ù…Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† Ø­Ø°Ù Ø´Ø¯Ù‡â€ŒØ§Ù†Ø¯ ÛŒØ§ Ø®ÛŒØ±
            active_players_lives = [lives for uid, lives in game['players'].items() if lives > 0]
            if not active_players_lives:
                await update.message.reply_text(f"â˜ ï¸ Ù‡Ù…Ù‡ Ø¨Ø§Ø®ØªÛŒØ¯! Ú©Ù„Ù…Ù‡ ØµØ­ÛŒØ­ `{game['word']}` Ø¨ÙˆØ¯.", parse_mode=ParseMode.MARKDOWN)
                del active_games['hangman'][chat_id]

# --------------------------- GAME: TYPE SPEED ---------------------------
def create_typing_image(text: str) -> io.BytesIO:
    reshaped_text = arabic_reshaper.reshape(text)
    bidi_text = get_display(reshaped_text)
    try:
        font = ImageFont.truetype("Vazir.ttf", 24)
    except IOError:
        logger.warning("Vazir.ttf font not found. Falling back to default.")
        font = ImageFont.load_default()
    
    dummy_img, draw = Image.new('RGB', (1, 1)), ImageDraw.Draw(Image.new('RGB', (1, 1)))
    _, _, w, h = draw.textbbox((0, 0), bidi_text, font=font)
    img = Image.new('RGB', (w + 40, h + 40), color=(255, 255, 255))
    ImageDraw.Draw(img).text((20, 20), bidi_text, fill=(0, 0, 0), font=font)
    bio = io.BytesIO()
    bio.name = 'image.jpeg'
    img.save(bio, 'JPEG')
    bio.seek(0)
    return bio

async def type_start_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    if await check_ban_status(update, context): return
    
    chat_id = update.effective_chat.id
    if chat_id in active_games['typing']: 
        await query.answer("ÛŒÚ© Ø¨Ø§Ø²ÛŒ ØªØ§ÛŒÙ¾ Ø³Ø±Ø¹ØªÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª.", show_alert=True)
        return
        
    sentence = random.choice(TYPING_SENTENCES)
    active_games['typing'][chat_id] = {"sentence": sentence, "start_time": datetime.now()}
    
    await query.edit_message_text("Ø¨Ø§Ø²ÛŒ ØªØ§ÛŒÙ¾ Ø³Ø±Ø¹ØªÛŒ Û³... Û²... Û±...")
    image_file = create_typing_image(sentence)
    await context.bot.send_photo(chat_id=chat_id, photo=image_file, caption="Ø³Ø±ÛŒØ¹ ØªØ§ÛŒÙ¾ Ú©Ù†ÛŒØ¯!")

async def handle_typing_attempt(update: Update, context: ContextTypes.DEFAULT_TYPE):
    chat_id = update.effective_chat.id
    if chat_id not in active_games['typing']: return
    if await check_ban_status(update, context): return
    
    game = active_games['typing'][chat_id]
    user_input = update.message.text.strip()
    
    if user_input == game['sentence']:
        duration = (datetime.now() - game['start_time']).total_seconds()
        user = update.effective_user
        await update.message.reply_text(f"ğŸ† {user.mention_html()} Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!\nØ²Ù…Ø§Ù†: **{duration:.2f}** Ø«Ø§Ù†ÛŒÙ‡", parse_mode=ParseMode.HTML)
        del active_games['typing'][chat_id]

# --------------------------- GAME: GHARCH & ETERAF ---------------------------
# (Ù…Ù†Ø·Ù‚ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø¹Ù…Ø¯ØªØ§Ù‹ Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø§Ø³ØªØŒ ÙÙ‚Ø· Ù†Ø­ÙˆÙ‡ Ø´Ø±ÙˆØ¹ Ø¢Ù†Ù‡Ø§ Ø§Ø² Ù¾Ù†Ù„ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù‡)
async def gharch_start_callback(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    query = update.callback_query
    await query.answer()
    
    if await check_ban_status(update, context): return ConversationHandler.END

    if not await is_group_admin(update.effective_user.id, update.effective_chat.id, context):
        await query.answer("âŒ ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†Ù†Ø¯.", show_alert=True)
        return ConversationHandler.END
    
    context.chat_data['starter_admin_id'] = update.effective_user.id
    await query.edit_message_text(
        "ğŸ„ **Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú†**\n\n"
        "Ù„Ø·ÙØ§Ù‹ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ú¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯ (Ù…Ø«Ø§Ù„: @GodUsername).\nØ¨Ø±Ø§ÛŒ Ù„ØºÙˆ /cancel Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯."
    )
    context.chat_data['gharch_setup_message_id'] = query.message.message_id
    return ASKING_GOD_USERNAME

async def receive_god_username(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    god_username = update.message.text.strip()
    if not god_username.startswith('@'):
        await update.message.reply_text("ÙØ±Ù…Øª Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§Ù‹ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… Ø±Ø§ Ø¨Ø§ @ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.", quote=True)
        return ASKING_GOD_USERNAME

    context.chat_data['god_username'] = god_username
    starter_admin_id = context.chat_data['starter_admin_id']
    setup_message_id = context.chat_data.get('gharch_setup_message_id')

    try:
        await update.message.delete()
    except Exception as e:
        logger.warning(f"Could not delete admin's username message: {e}")

    if not setup_message_id:
        await context.bot.send_message(update.effective_chat.id, "Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± ÛŒØ§ÙØªÙ† Ù¾ÛŒØ§Ù… Ø§ØµÙ„ÛŒ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø¨Ø§ /cancel Ù„ØºÙˆ Ùˆ Ù…Ø¬Ø¯Ø¯Ø§Ù‹ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯.")
        return ConversationHandler.END

    keyboard = [[
        InlineKeyboardButton("âœ… ØªØ§ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…", callback_data=f"gharch_confirm_god_{starter_admin_id}")
    ]]
    
    await context.bot.edit_message_text(
        chat_id=update.effective_chat.id,
        message_id=setup_message_id,
        text=(
            f"{god_username} Ø¹Ø²ÛŒØ²ØŒ\n"
            f"Ø´Ù…Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ú¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯ÛŒØ¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒØŒ Ø§ÛŒÙ† Ù…Ø³Ø¦ÙˆÙ„ÛŒØª Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ú©Ù†ÛŒØ¯.\n\n"
            f"âš ï¸ **Ù†Ú©ØªÙ‡:** Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ØŒ Ø¨Ø§ÛŒØ¯ Ø±Ø¨Ø§Øª Ø±Ø§ Ø§Ø³ØªØ§Ø±Øª Ú©Ø±Ø¯Ù‡ Ø¨Ø§Ø´ÛŒØ¯."
        ),
        reply_markup=InlineKeyboardMarkup(keyboard)
    )
    return CONFIRMING_GOD

async def confirm_god(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    """Ú¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¨Ø§Ø²ÛŒ Ø±Ø³Ù…Ø§Ù‹ Ø´Ø±ÙˆØ¹ Ù…ÛŒâ€ŒØ´ÙˆØ¯."""
    query = update.callback_query
    user = query.from_user
    chat_id = query.message.chat.id
    
    god_username_from_admin = context.chat_data.get('god_username', '').lower().lstrip('@')

    if not user.username or user.username.lower() != god_username_from_admin:
        await query.answer("Ø§ÛŒÙ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù†ÛŒØ³ØªØŒ ÛŒØ§ ÛŒÙˆØ²Ø±Ù†ÛŒÙ… ØªÙ„Ú¯Ø±Ø§Ù… Ø´Ù…Ø§ ØªÙ†Ø¸ÛŒÙ… Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.", show_alert=True)
        return CONFIRMING_GOD

    await query.answer("Ø´Ù…Ø§ Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† Ú¯Ø§Ø¯ ØªØ§ÛŒÛŒØ¯ Ø´Ø¯ÛŒØ¯!")

    try:
        god_id = user.id
        god_username_display = f"@{user.username}"
        active_gharch_games[chat_id] = {'god_id': god_id, 'god_username': god_username_display}

        bot_username = (await context.bot.get_me()).username
        game_message_text = (
            "**Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† ğŸ„ Ø´Ø±ÙˆØ¹ Ø´Ø¯!**\n\n"
            "Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ú©Ù„ÛŒÚ© Ú©Ù† Ùˆ Ø­Ø±Ù Ø¯Ù„Øª Ø±Ùˆ Ø¨Ù†ÙˆÛŒØ³ ØªØ§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø¸Ø§Ù‡Ø± Ø¨Ø´Ù‡!\n\n"
            f"*(ÙÙ‚Ø· Ú¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒØŒ {god_username_display}ØŒ Ø§Ø² Ù‡ÙˆÛŒØª Ø§Ø±Ø³Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ù…Ø·Ù„Ø¹ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯.)*"
        )
        keyboard = [[InlineKeyboardButton("ğŸ„ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù†Ø§Ø´Ù†Ø§Ø³", url=f"https://t.me/{bot_username}?start=gharch_{chat_id}")]]
        
        await query.edit_message_text(
            text=game_message_text,
            reply_markup=InlineKeyboardMarkup(keyboard),
            parse_mode=ParseMode.MARKDOWN
        )
        
        try:
            await context.bot.pin_chat_message(chat_id, query.message.message_id)
            active_gharch_games[chat_id]['pinned_message_id'] = query.message.message_id
        except Exception as pin_error:
            logger.warning(f"Could not pin message in group {chat_id}. Reason: {pin_error}")
            await context.bot.send_message(
                chat_id=chat_id,
                text="âœ… Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø´Ø±ÙˆØ¹ Ø´Ø¯. Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ÛŒ Ø¹Ø²ÛŒØ²ØŒ Ù„Ø·ÙØ§Ù‹ Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… Ø±Ø§ Ù¾ÛŒÙ† Ú©Ù†ÛŒØ¯.",
                reply_to_message_id=query.message.message_id
            )

    except Exception as e:
        error_message = f"ğŸš« **Ø®Ø·Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø®ØªÙ‡!**\n\nØ±Ø¨Ø§Øª Ø¯Ø± Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒ Ø¨Ø§ ÛŒÚ© Ø®Ø·Ø§ÛŒ ØºÛŒØ±Ù…Ù†ØªØ¸Ø±Ù‡ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯: `{e}`"
        await context.bot.send_message(chat_id=chat_id, text=error_message, parse_mode=ParseMode.MARKDOWN)
        logger.error(f"CRITICAL ERROR in confirm_god: {e}")
        return ConversationHandler.END

    return ConversationHandler.END

async def cancel_gharch_conv(update: Update, context: ContextTypes.DEFAULT_TYPE) -> int:
    """Ù„ØºÙˆ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú†."""
    await update.message.reply_text("ÙØ±Ø¢ÛŒÙ†Ø¯ Ø³Ø§Ø®Øª Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† Ù„ØºÙˆ Ø´Ø¯.")
    await rsgame_command(update, context)
    return ConversationHandler.END

async def eteraf_start_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()

    if await check_ban_status(update, context): return
    
    user = update.effective_user
    chat_id = update.effective_chat.id
    if not await is_group_admin(user.id, chat_id, context):
        await query.answer("âŒ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯.", show_alert=True)
        return
    
    data = query.data.split('_')
    eteraf_type = data[2] 

    if eteraf_type == "default":
        starter_text = "ÛŒÚ© Ù…ÙˆØ¶ÙˆØ¹ Ø§Ø¹ØªØ±Ø§Ù Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ø´Ø¯. Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ø§Ø¹ØªØ±Ø§Ù Ù†Ø§Ø´Ù†Ø§Ø³ØŒ Ø§Ø² Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯."
        bot_username = (await context.bot.get_me()).username
        try:
            starter_message = await context.bot.send_message(chat_id, starter_text)
            keyboard = [[InlineKeyboardButton("ğŸ¤« Ø§Ø±Ø³Ø§Ù„ Ø§Ø¹ØªØ±Ø§Ù", url=f"https://t.me/{bot_username}?start=eteraf_{chat_id}_{starter_message.message_id}")]]
            await starter_message.edit_reply_markup(reply_markup=InlineKeyboardMarkup(keyboard))
            await query.message.delete() 
        except Exception as e:
            logger.error(f"Error in eteraf_command: {e}")
        return

    elif eteraf_type == "custom":
        # ##### ØªØºÛŒÛŒØ± Ø¬Ø¯ÛŒØ¯: Ø°Ø®ÛŒØ±Ù‡ Ø¢ÛŒØ¯ÛŒ Ù¾ÛŒØ§Ù… Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ø¯Ø± Ø¢ÛŒÙ†Ø¯Ù‡ #####
        context.chat_data['eteraf_prompt_message_id'] = query.message.message_id
        await query.edit_message_text("Ù„Ø·ÙØ§Ù‹ Ù…ØªÙ† Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø§Ø¹ØªØ±Ø§Ù Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.\nØ¨Ø±Ø§ÛŒ Ù„ØºÙˆ /cancel Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.")
        return ENTERING_ETERAF_TEXT

async def receive_eteraf_text(update: Update, context: ContextTypes.DEFAULT_TYPE):
    custom_text = update.message.text
    chat_id = update.effective_chat.id
    bot_username = (await context.bot.get_me()).username
    
    try:
        # Ø±Ø¨Ø§Øª Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯ Ø§Ø¹ØªØ±Ø§Ù Ø±Ø§ Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
        starter_message = await context.bot.send_message(chat_id, custom_text)
        keyboard = [[InlineKeyboardButton("ğŸ¤« Ø§Ø±Ø³Ø§Ù„ Ø§Ø¹ØªØ±Ø§Ù", url=f"https://t.me/{bot_username}?start=eteraf_{chat_id}_{starter_message.message_id}")]]
        await starter_message.edit_reply_markup(reply_markup=InlineKeyboardMarkup(keyboard))
    except Exception as e:
        logger.error(f"Error in eteraf_command (custom): {e}")
        await update.message.reply_text(f"Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø±Ø® Ø¯Ø§Ø¯: {e}")
    finally:
        # Ù¾ÛŒØ§Ù… Ù‚Ø¨Ù„ÛŒ Ø±Ø¨Ø§Øª ("Ù„Ø·ÙØ§ Ù…ØªÙ† Ø®ÙˆØ¯ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯") Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯
        prompt_message_id = context.chat_data.pop('eteraf_prompt_message_id', None)
        try:
            if prompt_message_id:
                await context.bot.delete_message(chat_id=chat_id, message_id=prompt_message_id)
            
            # ##### ØªØºÛŒÛŒØ± Ø§ØµÙ„ÛŒ: Ø®Ø· Ø²ÛŒØ± Ø­Ø°Ù Ø´Ø¯ #####
            # await update.message.delete() # -> Ø§ÛŒÙ† Ø®Ø· Ø¯ÛŒÚ¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯ Ùˆ Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯.

        except Exception:
            pass
            
        return ConversationHandler.END

async def handle_anonymous_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user_data = context.user_data
    if 'anon_target_chat' not in user_data:
        return await update.message.reply_text("Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø¯Ú©Ù…Ù‡â€ŒØ§ÛŒ Ú©Ù‡ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø±Ø¯ØŒ ÙØ±Ø¢ÛŒÙ†Ø¯ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯.")
    
    target_info = user_data['anon_target_chat']
    target_chat_id = target_info['id']
    game_type = target_info['type']
    message_text = update.message.text

    try:
        if game_type == "gharch":
            if target_chat_id in active_gharch_games:
                sender = update.effective_user
                god_info = active_gharch_games[target_chat_id]
                god_id = god_info['god_id']

                await context.bot.send_message(
                    chat_id=target_chat_id,
                    text=f"#Ù¾ÛŒØ§Ù…_Ù†Ø§Ø´Ù†Ø§Ø³ ğŸ„\n\n{message_text}"
                )
                await update.message.reply_text("âœ… Ù¾ÛŒØ§Ù… Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.")

                report_text = (
                    f"ğŸ“ **Ú¯Ø²Ø§Ø±Ø´ Ù¾ÛŒØ§Ù… Ù†Ø§Ø´Ù†Ø§Ø³ Ø¬Ø¯ÛŒØ¯**\n\n"
                    f"ğŸ‘¤ **Ø§Ø±Ø³Ø§Ù„ Ú©Ù†Ù†Ø¯Ù‡:**\n"
                    f"- Ù†Ø§Ù…: {sender.mention_html()}\n"
                    f"- ÛŒÙˆØ²Ø±Ù†ÛŒÙ…: @{sender.username}\n"
                    f"- Ø¢ÛŒØ¯ÛŒ: `{sender.id}`\n\n"
                    f"ğŸ“œ **Ù…ØªÙ† Ù¾ÛŒØ§Ù…:**\n"
                    f"{message_text}"
                )
                await context.bot.send_message(chat_id=god_id, text=report_text, parse_mode=ParseMode.HTML)
            else:
                await update.message.reply_text("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† Ø¯ÛŒÚ¯Ø± ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª ÛŒØ§ Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡ Ø§Ø³Øª.")

        elif game_type == "eteraf":
            reply_to_id = target_info.get('reply_to')
            header = "#Ø§Ø¹ØªØ±Ø§Ù_Ù†Ø§Ø´Ù†Ø§Ø³ ğŸ¤«"
            await context.bot.send_message(
                chat_id=target_chat_id,
                text=f"{header}\n\n{message_text}",
                reply_to_message_id=reply_to_id
            )
            await update.message.reply_text("âœ… Ø§Ø¹ØªØ±Ø§Ù Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯.")
        
        else:
            await update.message.reply_text("Ù†ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³ Ù…Ø´Ø®Øµ Ù†ÛŒØ³Øª.")

    except Exception as e:
        await update.message.reply_text(f"âš ï¸ Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø¨Ø§ Ø®Ø·Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯: {e}")
        logger.error(f"Error in handle_anonymous_message for game {game_type}: {e}")
    finally:
        if 'anon_target_chat' in context.user_data:
            del context.user_data['anon_target_chat']


# =================================================================
# ================= OWNER & CORE COMMANDS (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±) =============
# =================================================================
async def start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    user = update.effective_user
    chat_id = update.effective_chat.id

    if await check_ban_status(update, context): return

    # --- Ø¨Ø®Ø´ Û±: Ù…Ø¯ÛŒØ±ÛŒØª Ù„ÛŒÙ†Ú©â€ŒÙ‡Ø§ÛŒ ÙˆØ±ÙˆØ¯ÛŒ (Deep Linking) ---
    if context.args:
        try:
            payload = context.args[0]
            parts = payload.split('_')
            game_type, target_chat_id = parts[0], int(parts[1])

            if game_type == "gharch":
                if target_chat_id in active_gharch_games:
                    god_username = active_gharch_games[target_chat_id]['god_username']
                    context.user_data['anon_target_chat'] = {'id': target_chat_id, 'type': game_type}
                    prompt = f"Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§Ø±Ø³Ø§Ù„ Ù†Ø§Ø´Ù†Ø§Ø³ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...\n\nØªÙˆØ¬Ù‡: ÙÙ‚Ø· Ú¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ ({god_username}) Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø±Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¯ÛŒØ¯."
                    await update.message.reply_text(prompt)
                    return
                else:
                    await update.message.reply_text("Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† Ø¯ÛŒÚ¯Ø± ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª."); return
            
            elif game_type == "eteraf":
                context.user_data['anon_target_chat'] = {'id': target_chat_id, 'type': game_type}
                if len(parts) > 2:
                    context.user_data['anon_target_chat']['reply_to'] = int(parts[2])
                prompt = "Ø§Ø¹ØªØ±Ø§Ù Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯ ØªØ§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯..."
                await update.message.reply_text(prompt)
                return

        except (ValueError, IndexError):
            pass # Ø§Ú¯Ø± payload Ù…Ø¹ØªØ¨Ø± Ù†Ø¨ÙˆØ¯ØŒ Ø¨Ù‡ Ø¨Ø®Ø´ Ø§Ø³ØªØ§Ø±Øª Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ù…ÛŒâ€ŒØ±ÙˆØ¯

    # --- Ø¨Ø®Ø´ Û²: Ù…Ù†Ø·Ù‚ Ø§Ø³ØªØ§Ø±Øª Ù…Ø¹Ù…ÙˆÙ„ÛŒ ---
    conn = get_db_connection()
    if conn:
        with conn.cursor() as cur: 
            cur.execute("INSERT INTO users (user_id, first_name, username) VALUES (%s, %s, %s) ON CONFLICT (user_id) DO NOTHING;", (user.id, user.first_name, user.username))
            conn.commit()
    
    # Ø§ÛŒÙ†Ø¬Ø§ Ø¹Ø¶ÙˆÛŒØª Ø§Ø¬Ø¨Ø§Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªØ§Ø±Øª Ù…Ø¹Ù…ÙˆÙ„ÛŒ Ú†Ú© Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ØŒ ÙÙ‚Ø· Ø¯Ø± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ
    
    # --- Ø¨Ø®Ø´ Û³: Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø®ÙˆØ´Ø§Ù…Ø¯Ú¯ÙˆÛŒÛŒ (Ø³ÙØ§Ø±Ø´ÛŒ ÛŒØ§ Ù¾ÛŒØ´â€ŒÙØ±Ø¶) ---
    keyboard = [
        [InlineKeyboardButton("â• Ø§ÙØ²ÙˆØ¯Ù† Ø±Ø¨Ø§Øª Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡", url=f"https://t.me/{(await context.bot.get_me()).username}?startgroup=true")],
        #[InlineKeyboardButton("ğŸ® Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§", callback_data="rsgame_cat_main_pv")], # Ø¯Ú©Ù…Ù‡ Ù¾Ù†Ù„ Ø¯Ø± PV
        [InlineKeyboardButton("ğŸ‘¤ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†", url=f"https://t.me/{SUPPORT_USERNAME}")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)

    custom_welcome_sent = False
    if conn:
        try:
            with conn.cursor() as cur:
                cur.execute("SELECT message_id, chat_id FROM start_message WHERE id = 1;")
                start_msg_data = cur.fetchone()
                if start_msg_data:
                    message_id, from_chat_id = start_msg_data
                    await context.bot.copy_message(chat_id=chat_id, from_chat_id=from_chat_id, message_id=message_id, reply_markup=reply_markup)
                    custom_welcome_sent = True
        except Exception as e:
            logger.error(f"Could not send custom start message in PV: {e}")
        finally:
            conn.close()

    if not custom_welcome_sent:
        await update.message.reply_text("Ø³Ù„Ø§Ù… Ø¨Ù‡ Ø±Ø§ÛŒÙ†ÙˆØ¨Ø§Ø²ÛŒ Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯.\nØ¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.", reply_markup=reply_markup)
    
    report_text = f"âœ… Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯: {user.mention_html()} (ID: `{user.id}`)"
    for owner_id in OWNER_IDS:
        try:
            await context.bot.send_message(chat_id=owner_id, text=report_text, parse_mode=ParseMode.HTML)
        except:
            pass
            
async def rsgame_pv_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ù‡Ù†Ú¯Ø§Ù…ÛŒ Ú©Ù‡ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± PV Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ Ù¾Ù†Ù„ Ú©Ù„ÛŒÚ© Ù…ÛŒâ€ŒÚ©Ù†Ø¯"""
    query = update.callback_query
    await query.answer()
    await query.edit_message_text("Ø§ÛŒÙ† Ù¾Ù†Ù„ ÙÙ‚Ø· Ø¯Ø± Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯. Ù„Ø·ÙØ§Ù‹ Ø±Ø¨Ø§Øª Ø±Ø§ Ø¨Ù‡ ÛŒÚ© Ú¯Ø±ÙˆÙ‡ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù‡ Ùˆ Ø¯Ø³ØªÙˆØ± /rsgame Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.")


# Ø¨Ù‚ÛŒÙ‡ Ø¯Ø³ØªÙˆØ±Ø§Øª Ø§Ø¯Ù…ÛŒÙ† (stats, fwdusers, ...) Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ± Ø¨Ø§Ù‚ÛŒ Ù…ÛŒâ€ŒÙ…Ø§Ù†Ù†Ø¯
# ...
async def set_start_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    if not update.message.reply_to_message: return await update.message.reply_text("Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯.")
    msg = update.message.reply_to_message
    conn = get_db_connection()
    if conn:
        with conn.cursor() as cur: cur.execute("INSERT INTO start_message (id, message_id, chat_id) VALUES (1, %s, %s) ON CONFLICT (id) DO UPDATE SET message_id = EXCLUDED.message_id, chat_id = EXCLUDED.chat_id;", (msg.message_id, msg.chat_id)); conn.commit()
        conn.close()
        await update.message.reply_text("âœ… Ù¾ÛŒØ§Ù… Ø®ÙˆØ´Ø§Ù…Ø¯Ú¯ÙˆÛŒÛŒ ØªÙ†Ø¸ÛŒÙ… Ø´Ø¯.")

async def stats_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    conn = get_db_connection()
    if conn:
        with conn.cursor() as cur:
            cur.execute("SELECT COUNT(*) FROM users;"); user_count = cur.fetchone()[0]
            cur.execute("SELECT COUNT(*) FROM groups;"); group_count = cur.fetchone()[0]
            cur.execute("SELECT SUM(member_count) FROM groups;"); total_members = cur.fetchone()[0] or 0
        stats = f"ğŸ“Š **Ø¢Ù…Ø§Ø± Ø±Ø¨Ø§Øª**\n\nğŸ‘¤ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: {user_count}\nğŸ‘¥ Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§: {group_count}\nğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Ù…Ø¬Ù…ÙˆØ¹ Ø§Ø¹Ø¶Ø§: {total_members}"
        await update.message.reply_text(stats, parse_mode=ParseMode.MARKDOWN)
        conn.close()
        
async def broadcast_command(update: Update, context: ContextTypes.DEFAULT_TYPE, target: str):
    if not await is_owner(update.effective_user.id): return
    if not update.message.reply_to_message: return await update.message.reply_text("Ø±ÙˆÛŒ ÛŒÚ© Ù¾ÛŒØ§Ù… Ø±ÛŒÙ¾Ù„Ø§ÛŒ Ú©Ù†ÛŒØ¯.")
    conn, table, column = get_db_connection(), "users" if target == "users" else "groups", "user_id" if target == "users" else "group_id"
    if not conn: return
    with conn.cursor() as cur: cur.execute(f"SELECT {column} FROM {table};"); targets = cur.fetchall()
    conn.close()
    if not targets: return await update.message.reply_text("Ù‡Ø¯ÙÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.")
    
    sent, failed = 0, 0
    status_msg = await update.message.reply_text(f"â³ Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ø¨Ù‡ {len(targets)} {target}...")
    for (target_id,) in targets:
        try:
            await context.bot.forward_message(chat_id=target_id, from_chat_id=update.message.reply_to_message.chat.id, message_id=update.message.reply_to_message.message_id)
            sent += 1
        except Exception as e:
            failed += 1
            logger.error(f"Broadcast failed for {target_id}: {e}")
    await status_msg.edit_text(f"ğŸ Ø§Ø±Ø³Ø§Ù„ ØªÙ…Ø§Ù… Ø´Ø¯.\n\nâœ… Ù…ÙˆÙÙ‚: {sent}\nâŒ Ù†Ø§Ù…ÙˆÙÙ‚: {failed}")

async def fwdusers_command(update: Update, context: ContextTypes.DEFAULT_TYPE): await broadcast_command(update, context, "users")
async def fwdgroups_command(update: Update, context: ContextTypes.DEFAULT_TYPE): await broadcast_command(update, context, "groups")

async def leave_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡: /leave <group_id>")
    try:
        group_id = int(context.args[0])
        await context.bot.leave_chat(group_id)
        await update.message.reply_text(f"âœ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² Ú¯Ø±ÙˆÙ‡ `{group_id}` Ø®Ø§Ø±Ø¬ Ø´Ø¯Ù….", parse_mode=ParseMode.MARKDOWN)
    except Exception as e:
        await update.message.reply_text(f"Ø®Ø·Ø§: {e}")

async def grouplist_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    conn = get_db_connection()
    if conn:
        with conn.cursor() as cur:
            cur.execute("SELECT group_id, title, member_count FROM groups;")
            groups = cur.fetchall()
        conn.close()
        if not groups: return await update.message.reply_text("Ø±Ø¨Ø§Øª Ø¯Ø± Ù‡ÛŒÚ† Ú¯Ø±ÙˆÙ‡ÛŒ Ø¹Ø¶Ùˆ Ù†ÛŒØ³Øª.")
        message = "ğŸ“œ **Ù„ÛŒØ³Øª Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§:**\n\n"
        for i, (group_id, title, member_count) in enumerate(groups, 1):
            message += f"{i}. **{title}**\n   - ID: `{group_id}`\n   - Ø§Ø¹Ø¶Ø§: {member_count}\n\n"
        await update.message.reply_text(message, parse_mode=ParseMode.MARKDOWN)

async def join_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡: /join <group_id>")
    try:
        group_id = int(context.args[0])
        link = await context.bot.create_chat_invite_link(group_id, member_limit=30)
        await update.message.reply_text(f"Ù„ÛŒÙ†Ú© ÙˆØ±ÙˆØ¯ Ø´Ù…Ø§:\n{link.invite_link}")
    except Exception as e:
        await update.message.reply_text(f"Ø®Ø·Ø§ Ø¯Ø± Ø³Ø§Ø®Øª Ù„ÛŒÙ†Ú© (Ø´Ø§ÛŒØ¯ Ø±Ø¨Ø§Øª Ø§Ø¯Ù…ÛŒÙ† Ù†Ø¨Ø§Ø´Ø¯): {e}")

async def ban_user_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡: /ban_user <user_id>")
    try:
        user_id = int(context.args[0])
        conn = get_db_connection()
        if conn:
            with conn.cursor() as cur: cur.execute("INSERT INTO banned_users (user_id) VALUES (%s) ON CONFLICT DO NOTHING;", (user_id,))
            conn.commit(); conn.close()
            await update.message.reply_text(f"Ú©Ø§Ø±Ø¨Ø± `{user_id}` Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯.", parse_mode=ParseMode.MARKDOWN)
    except: await update.message.reply_text("Ø¢ÛŒØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.")

async def unban_user_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡: /unban_user <user_id>")
    try:
        user_id = int(context.args[0])
        conn = get_db_connection()
        if conn:
            with conn.cursor() as cur: cur.execute("DELETE FROM banned_users WHERE user_id = %s;", (user_id,))
            conn.commit(); conn.close()
            await update.message.reply_text(f"Ú©Ø§Ø±Ø¨Ø± `{user_id}` Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯.", parse_mode=ParseMode.MARKDOWN)
    except: await update.message.reply_text("Ø¢ÛŒØ¯ÛŒ Ù†Ø§Ù…Ø¹ØªØ¨Ø± Ø§Ø³Øª.")

async def ban_group_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Bans a group from using the bot."""
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡ ØµØ­ÛŒØ­: /ban_group <group_id>")
    
    try:
        group_id = int(context.args[0])
        conn = get_db_connection()
        if conn:
            with conn.cursor() as cur:
                cur.execute("INSERT INTO banned_groups (group_id) VALUES (%s) ON CONFLICT DO NOTHING;", (group_id,))
            conn.commit()
            conn.close()
            await update.message.reply_text(f"Ú¯Ø±ÙˆÙ‡ `{group_id}` Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù…Ø³Ø¯ÙˆØ¯ Ø´Ø¯.", parse_mode=ParseMode.MARKDOWN)
            
            # Bot leaves the group after banning it
            try:
                await context.bot.leave_chat(group_id)
            except Exception as e:
                logger.warning(f"Could not leave the banned group {group_id}: {e}")

    except (ValueError, IndexError):
        await update.message.reply_text("Ù„Ø·ÙØ§ ÛŒÚ© Ø¢ÛŒØ¯ÛŒ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")

async def unban_group_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Unbans a group."""
    if not await is_owner(update.effective_user.id): return
    if not context.args: return await update.message.reply_text("Ø§Ø³ØªÙØ§Ø¯Ù‡ ØµØ­ÛŒØ­: /unban_group <group_id>")

    try:
        group_id = int(context.args[0])
        conn = get_db_connection()
        if conn:
            with conn.cursor() as cur:
                cur.execute("DELETE FROM banned_groups WHERE group_id = %s;", (group_id,))
            conn.commit()
            conn.close()
            await update.message.reply_text(f"Ú¯Ø±ÙˆÙ‡ `{group_id}` Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø² Ù…Ø³Ø¯ÙˆØ¯ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯.", parse_mode=ParseMode.MARKDOWN)
    except (ValueError, IndexError):
        await update.message.reply_text("Ù„Ø·ÙØ§ ÛŒÚ© Ø¢ÛŒØ¯ÛŒ Ø¹Ø¯Ø¯ÛŒ Ù…Ø¹ØªØ¨Ø± Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙˆÙ‡ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.")
# -----------------
async def track_chats(update: Update, context: ContextTypes.DEFAULT_TYPE) -> None:
    result = update.chat_member
    if not result: return

    chat = result.chat
    user = result.from_user # Ú©Ø§Ø±Ø¨Ø±ÛŒ Ú©Ù‡ Ø±Ø¨Ø§Øª Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù‡
    
    # Ù…Ø·Ù…Ø¦Ù† Ù…ÛŒâ€ŒØ´ÙˆÛŒÙ… Ú©Ù‡ ØªØºÛŒÛŒØ± ÙˆØ¶Ø¹ÛŒØª Ù…Ø±Ø¨ÙˆØ· Ø¨Ù‡ Ø±Ø¨Ø§Øª Ù…Ø§Ø³Øª
    if result.new_chat_member.user.id != context.bot.id:
        return

    # --- ÙˆÙ‚ØªÛŒ Ø±Ø¨Ø§Øª Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ ---
    if result.new_chat_member.status == 'member' and result.old_chat_member.status != 'member':
        conn = get_db_connection()
        if not conn: return
        
        try:
            with conn.cursor() as cur:
                cur.execute("SELECT COUNT(*) FROM groups;"); group_count = cur.fetchone()[0]
            
            if group_count >= GROUP_INSTALL_LIMIT:
                await chat.send_message(f"âš ï¸ Ø¸Ø±ÙÛŒØª Ù†ØµØ¨ Ø§ÛŒÙ† Ø±Ø¨Ø§Øª ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯Ù‡ Ø§Ø³Øª! Ù„Ø·ÙØ§Ù‹ Ø¨Ø§ Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ (@{SUPPORT_USERNAME}) ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.")
                await context.bot.leave_chat(chat.id)
                for owner_id in OWNER_IDS:
                    await context.bot.send_message(owner_id, f"ğŸ”” Ù‡Ø´Ø¯Ø§Ø±: Ø³Ù‚Ù Ù†ØµØ¨ ({GROUP_INSTALL_LIMIT}) ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯. Ø±Ø¨Ø§Øª Ø§Ø² Ú¯Ø±ÙˆÙ‡ `{chat.title}` Ø®Ø§Ø±Ø¬ Ø´Ø¯.", parse_mode=ParseMode.MARKDOWN)
                conn.close()
                return
        except Exception as e:
            logger.error(f"Could not check group install limit: {e}")

        member_count = await chat.get_member_count()
        with conn.cursor() as cur:
            cur.execute("INSERT INTO groups (group_id, title, member_count) VALUES (%s, %s, %s) ON CONFLICT (group_id) DO UPDATE SET title = EXCLUDED.title, member_count = EXCLUDED.member_count;", (chat.id, chat.title, member_count))
            conn.commit()

        # Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø®ÙˆØ´Ø§Ù…Ø¯Ú¯ÙˆÛŒÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ø¯Ú©Ù…Ù‡ Ù¾Ù†Ù„
        keyboard = [[InlineKeyboardButton("ğŸ® Ù†Ù…Ø§ÛŒØ´ Ù¾Ù†Ù„ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§", callback_data="rsgame_cat_main")]]
        await chat.send_message("Ø³Ù„Ø§Ù…! ğŸ‘‹ Ù…Ù† Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ù†ØµØ¨ Ø´Ø¯Ù….\nØ¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ø§Ø² Ø¯Ø³ØªÙˆØ± /rsgame ÛŒØ§ Ø¯Ú©Ù…Ù‡ Ø²ÛŒØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.", reply_markup=InlineKeyboardMarkup(keyboard))
        
        conn.close()
        
        report = f"â• **Ø±Ø¨Ø§Øª Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ø¬Ø¯ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯:**\n\nğŸŒ Ù†Ø§Ù…: {chat.title}\nğŸ†”: `{chat.id}`\nğŸ‘¥ Ø§Ø¹Ø¶Ø§: {member_count}\n\nğŸ‘¤ ØªÙˆØ³Ø·: {user.mention_html()} (ID: `{user.id}`)"
        for owner_id in OWNER_IDS:
            try: await context.bot.send_message(owner_id, report, parse_mode=ParseMode.HTML)
            except: pass

    # --- ÙˆÙ‚ØªÛŒ Ø±Ø¨Ø§Øª Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø­Ø°Ù Ù…ÛŒâ€ŒØ´ÙˆØ¯ ---
    elif result.new_chat_member.status == 'left':
        conn = get_db_connection()
        if conn:
            with conn.cursor() as cur:
                cur.execute("DELETE FROM groups WHERE group_id = %s;", (chat.id,))
                conn.commit()
            conn.close()
        report = f"âŒ **Ø±Ø¨Ø§Øª Ø§Ø² Ú¯Ø±ÙˆÙ‡ Ø²ÛŒØ± Ø§Ø®Ø±Ø§Ø¬ Ø´Ø¯:**\n\nğŸŒ Ù†Ø§Ù…: {chat.title}\nğŸ†”: `{chat.id}`"
        for owner_id in OWNER_IDS:
            try: await context.bot.send_message(owner_id, report, parse_mode=ParseMode.MARKDOWN)
            except: pass

async def stop_games_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    Ø¯Ø³ØªÙˆØ± Ù„ØºÙˆ ØªÙ…Ø§Ù… Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ Ø¯Ø± ÛŒÚ© Ú¯Ø±ÙˆÙ‡ ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†.
    Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³ (Ù‚Ø§Ø±Ú†) Ø±Ø§ Ù„ØºÙˆ Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    """
    chat = update.effective_chat
    user = update.effective_user

    # Û±. Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÙÙ‚Ø· Ø¯Ø± Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯
    if chat.type == 'private':
        await update.message.reply_text("Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ÙÙ‚Ø· Ø¯Ø± Ú¯Ø±ÙˆÙ‡â€ŒÙ‡Ø§ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø³Øª.")
        return

    # Û². ÙÙ‚Ø· Ø§Ø¯Ù…ÛŒÙ†â€ŒÙ‡Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø§Ø² Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯
    if not await is_group_admin(user.id, chat.id, context):
        await update.message.reply_text("âŒ Ø´Ù…Ø§ Ø§Ø¬Ø§Ø²Ù‡ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ø±Ø§ Ù†Ø¯Ø§Ø±ÛŒØ¯. Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± Ù…Ø®ØµÙˆØµ Ù…Ø¯ÛŒØ±Ø§Ù† Ø§Ø³Øª.")
        return
        
    chat_id = chat.id
    canceled_count = 0

    # Û³. Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ù„ØºÙˆ Ø´ÙˆÙ†Ø¯
    # Ø¨Ø§Ø²ÛŒ Ù‚Ø§Ø±Ú† (gharch) Ø¯Ø± Ø§ÛŒÙ† Ù„ÛŒØ³Øª Ù†ÛŒØ³Øª
    games_to_cancel = ['hangman', 'typing', 'guess_number']

    for game_key in games_to_cancel:
        # Ø¨Ø±Ø±Ø³ÛŒ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ø¢ÛŒØ§ Ø¨Ø§Ø²ÛŒ Ø§Ø² Ø§ÛŒÙ† Ù†ÙˆØ¹ Ø¯Ø± Ø§ÛŒÙ† Ú¯Ø±ÙˆÙ‡ ÙØ¹Ø§Ù„ Ø§Ø³Øª ÛŒØ§ Ø®ÛŒØ±
        if chat_id in active_games.get(game_key, {}):
            # Ø­Ø°Ù ØªÙ…Ø§Ù… Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ Ø¢Ù† Ù†ÙˆØ¹ Ø§Ø² Ú¯Ø±ÙˆÙ‡ ÙØ¹Ù„ÛŒ
            del active_games[game_key][chat_id]
            canceled_count += 1
            
    # Û´. Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ù†ØªÛŒØ¬Ù‡ Ø¨Ù‡ Ø§Ø¯Ù…ÛŒÙ†
    if canceled_count > 0:
        await update.message.reply_text(f"âœ… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª {canceled_count} Ù†ÙˆØ¹ Ø¨Ø§Ø²ÛŒ ÙØ¹Ø§Ù„ Ù„ØºÙˆ Ø´Ø¯.")
    else:
        await update.message.reply_text("Ù‡ÛŒÚ† Ø¨Ø§Ø²ÛŒ ÙØ¹Ø§Ù„ÛŒ Ø¨Ø±Ø§ÛŒ Ù„ØºÙˆ Ú©Ø±Ø¯Ù† Ø¯Ø± Ø§ÛŒÙ† Ú¯Ø±ÙˆÙ‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø´Øª.")

async def text_help_trigger(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Ø¨Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù„Ù…Ù‡ 'Ø±Ø§Ù‡Ù†Ù…Ø§'ØŒ Ù¾ÛŒØ§Ù… Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯."""
    
    help_text = """
ğŸ® **Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø±Ø¨Ø§Øª** ğŸ®

Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù‡Ø± Ø¨Ø§Ø²ÛŒØŒ Ø§Ø² Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ Ø¨Ø§ Ø¯Ø³ØªÙˆØ± /rsgame Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯. Ø¯Ø± Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø¹Ø±ÙÛŒ Ú©ÙˆØªØ§Ù‡ÛŒ Ø§Ø² Ù‡Ø± Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯:

---
**ğŸ† Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±ØªÛŒ Ùˆ Ú¯Ø±ÙˆÙ‡ÛŒ**

- **Ø­Ú©Ù… (Û² Ùˆ Û´ Ù†ÙØ±Ù‡):** Ø¨Ø§Ø²ÛŒ Ú©Ø§Ø±ØªÛŒ Ù…Ø­Ø¨ÙˆØ¨ Ùˆ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©.

- **Ø¯ÙˆØ² (Ø¯Ùˆ Ù†ÙØ±Ù‡):** Ø¨Ø§Ø²ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ© XO ÛŒØ§ Tic-Tac-Toe.

---
**âœï¸ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ§ÛŒÙ¾ÛŒ Ùˆ Ø³Ø±Ø¹ØªÛŒ**

- **Ø­Ø¯Ø³ Ú©Ù„Ù…Ù‡:** ÛŒÚ© Ú©Ù„Ù…Ù‡ Ù…Ø®ÙÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø´Ù…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Ø­Ø¯Ø³ Ø­Ø±ÙˆÙØŒ Ø¢Ù† Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ù†ÛŒØ¯.

- **ØªØ§ÛŒÙ¾ Ø³Ø±Ø¹ØªÛŒ:** ÛŒÚ© Ø¬Ù…Ù„Ù‡ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ Ø§ÙˆÙ„ÛŒÙ† Ú©Ø³ÛŒ Ú©Ù‡ Ø¢Ù† Ø±Ø§ Ø¯Ø±Ø³Øª ØªØ§ÛŒÙ¾ Ú©Ù†Ø¯ØŒ Ø¨Ø±Ù†Ø¯Ù‡ Ø§Ø³Øª.

- **Ø­Ø¯Ø³ Ø¹Ø¯Ø¯ (ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†):** Ø§Ø¯Ù…ÛŒÙ† Ù…Ø­Ø¯ÙˆØ¯Ù‡â€ŒØ§ÛŒ Ø±Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø±Ø¨Ø§Øª Ø¹Ø¯Ø¯ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ ØªØ§ Ø¨Ù‚ÛŒÙ‡ Ø­Ø¯Ø³ Ø¨Ø²Ù†Ù†Ø¯.

---
**ğŸ¤« Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ù†Ø§Ø´Ù†Ø§Ø³ (ÙˆÛŒÚ˜Ù‡ Ø§Ø¯Ù…ÛŒÙ†)**

- **Ø§Ø¹ØªØ±Ø§Ù:** Ø§Ø¯Ù…ÛŒÙ† ÛŒÚ© Ù…ÙˆØ¶ÙˆØ¹ Ø§Ø¹ØªØ±Ø§Ù Ø§ÛŒØ¬Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø§Ø¹Ø¶Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ø¨Ù‡ Ø¢Ù† Ù¾Ø§Ø³Ø® Ù…ÛŒâ€ŒØ¯Ù‡Ù†Ø¯.

- **Ù‚Ø§Ø±Ú†:** Ø§Ø¯Ù…ÛŒÙ† ÛŒÚ© "Ú¯Ø§Ø¯" Ø¨Ø±Ø§ÛŒ Ø¨Ø§Ø²ÛŒ ØªØ¹ÛŒÛŒÙ† Ù…ÛŒâ€ŒÚ©Ù†Ø¯ Ùˆ Ø§Ø¹Ø¶Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø§Ø´Ù†Ø§Ø³ Ù¾ÛŒØ§Ù… Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ù†Ø¯. Ù‡ÙˆÛŒØª Ø§Ø±Ø³Ø§Ù„â€ŒÚ©Ù†Ù†Ø¯Ù‡ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ú¯Ø§Ø¯ ÙØ§Ø´ Ù…ÛŒâ€ŒØ´ÙˆØ¯.

---
Ø¨Ø±Ø§ÛŒ Ù„ØºÙˆ ØªÙ…Ø§Ù… Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ ÙØ¹Ø§Ù„ Ø¯Ø± Ú¯Ø±ÙˆÙ‡ (ÙÙ‚Ø· ØªÙˆØ³Ø· Ø§Ø¯Ù…ÛŒÙ†): /stop
"""
    await update.message.reply_text(help_text, parse_mode=ParseMode.MARKDOWN)

async def ping_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """
    Ø³Ø±Ø¹Øª Ù¾Ø§Ø³Ø®â€ŒØ¯Ù‡ÛŒ (latency) Ø±Ø¨Ø§Øª Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ø±Ø¯Ù‡ Ùˆ ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø§Ù„Ú© Ø±Ø¨Ø§Øª Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯.
    """
    # Û±. Ø²Ù…Ø§Ù† Ø´Ø±ÙˆØ¹ Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
    start_time = time.time()
    
    # Û². ÛŒÚ© Ù¾ÛŒØ§Ù… Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø¢Ù† Ø±Ø§ ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ù†ÛŒÙ…
    message = await update.message.reply_text("...")
    
    # Û³. Ø²Ù…Ø§Ù† Ù¾Ø§ÛŒØ§Ù† Ø±Ø§ Ù¾Ø³ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ Ù¾ÛŒØ§Ù… Ø«Ø¨Øª Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
    end_time = time.time()
    
    # Û´. Ø§Ø®ØªÙ„Ø§Ù Ø²Ù…Ø§Ù† Ø±Ø§ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ø¨Ù‡ Ù…ÛŒÙ„ÛŒâ€ŒØ«Ø§Ù†ÛŒÙ‡ ØªØ¨Ø¯ÛŒÙ„ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
    latency_s = end_time - start_time
    
    # Ûµ. Ù¾ÛŒØ§Ù… Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø§ Ø¨Ø§ Ù†ØªÛŒØ¬Ù‡ Ù†Ù‡Ø§ÛŒÛŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
    await message.edit_text(f"Ø±Ø§ÛŒÙ†Ùˆ Ú¯ÛŒÙ… Ø¢Ù†Ù„Ø§ÛŒÙ† Ø§Ø³Øª!\n\nâš¡ï¸Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ: {latency_s:.4f} Ø«Ø§Ù†ÛŒÙ‡")

# =================================================================
# ======================== MAIN FUNCTION ==========================
# =================================================================
def main() -> None:
    """Start the bot."""
    setup_database()
    BOT_TOKEN = os.environ.get("BOT_TOKEN")
    if not BOT_TOKEN:
        logger.critical("BOT_TOKEN environment variable not set.")
        return

    application = Application.builder().token(BOT_TOKEN).build()
    
    # --- Conversation Handlers (Ø¨Ø§ÛŒØ¯ Ø§ÙˆÙ„ÙˆÛŒØª Ø¨Ø§Ù„Ø§ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯) ---
    gharch_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(gharch_start_callback, pattern=r'^gharch_start_')],
        states={
            ASKING_GOD_USERNAME: [MessageHandler(filters.TEXT & ~filters.COMMAND, receive_god_username)],
            CONFIRMING_GOD: [CallbackQueryHandler(confirm_god, pattern=r'^gharch_confirm_god_')],
        },
        fallbacks=[CommandHandler('cancel', cancel_gharch_conv)],
        per_user=False, per_chat=True,
    )
    
    guess_number_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(hads_addad_start_callback, pattern=r'^hads_addad_start_')],
        states={
            SELECTING_RANGE: [MessageHandler(filters.TEXT & ~filters.COMMAND, receive_range)],
            GUESSING: [MessageHandler(filters.Regex(r'^[\dÛ°-Û¹]+$'), handle_guess_conversation)],
        },
        fallbacks=[CommandHandler('cancel', cancel_game_conversation)],
        per_user=False, per_chat=True
    )

    eteraf_conv = ConversationHandler(
        entry_points=[CallbackQueryHandler(eteraf_start_callback, pattern=r'^eteraf_start_custom_')],
        states={
            ENTERING_ETERAF_TEXT: [MessageHandler(filters.TEXT & ~filters.COMMAND, receive_eteraf_text)]
        },
        fallbacks=[CommandHandler('cancel', cancel_game_conversation)], # Ø§Ø² Ù‡Ù…Ø§Ù† ØªØ§Ø¨Ø¹ Ù„ØºÙˆ Ù…Ø´ØªØ±Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
        per_user=True, per_chat=False # Ø§ÛŒÙ† Ù…Ú©Ø§Ù„Ù…Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯Ø§ Ø¨Ø§Ø´Ø¯
    )

    application.add_handler(gharch_conv)
    application.add_handler(guess_number_conv)
    application.add_handler(eteraf_conv)

    # --- Command Handlers ---
    application.add_handler(CommandHandler("start", start_command))
    application.add_handler(CommandHandler("rsgame", rsgame_command))

    application.add_handler(CommandHandler("stop", stop_games_command))
    
    # Ø¯Ø³ØªÙˆØ±Ø§Øª Ù…Ø§Ù„Ú© Ø±Ø¨Ø§Øª
    application.add_handler(CommandHandler("setstart", set_start_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("stats", stats_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("fwdusers", fwdusers_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("fwdgroups", fwdgroups_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("leave", leave_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("grouplist", grouplist_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("join", join_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("ban_user", ban_user_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("unban_user", unban_user_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("ban_group", ban_group_command, filters=filters.User(OWNER_IDS)))
    application.add_handler(CommandHandler("unban_group", unban_group_command, filters=filters.User(OWNER_IDS)))

    application.add_handler(CallbackQueryHandler(rsgame_check_join_callback, pattern=r'^rsgame_check_join$'))

    # Ù¾Ù†Ù„ Ø§ØµÙ„ÛŒ
    application.add_handler(CallbackQueryHandler(rsgame_callback_handler, pattern=r'^rsgame_cat_'))
    application.add_handler(CallbackQueryHandler(rsgame_pv_callback, pattern=r'^rsgame_cat_main_pv$'))
    # Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ Ø§Ø² Ù¾Ù†Ù„
    # FIX: Ø§Ù„Ú¯ÙˆÙ‡Ø§ Ø±Ø§ Ø§ØµÙ„Ø§Ø­ Ú©Ù†ÛŒØ¯
    application.add_handler(CallbackQueryHandler(rsgame_close_callback, pattern=r'^rsgame_close_'))
    application.add_handler(CallbackQueryHandler(hads_kalame_start_callback, pattern=r'^hads_kalame_start_'))
    application.add_handler(CallbackQueryHandler(type_start_callback, pattern=r'^type_start_'))
    application.add_handler(CallbackQueryHandler(eteraf_start_callback, pattern=r'^eteraf_start_default_'))
    # Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø§Ø®Ù„ÛŒ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§
    application.add_handler(CallbackQueryHandler(hokm_callback, pattern=r'^hokm_'))
    application.add_handler(CallbackQueryHandler(dooz_callback, pattern=r'^dooz_'))

    application.add_handler(MessageHandler(filters.Regex(r'^Ø±Ø§Ù‡Ù†Ù…Ø§$') & filters.ChatType.GROUPS, text_help_trigger))

    application.add_handler(MessageHandler(filters.Regex(r'^Ù¾ÛŒÙ†Ú¯$') & filters.User(OWNER_IDS), ping_command))
    
    # --- Message Handlers (Ø¨Ø§ÛŒØ¯ Ø§ÙˆÙ„ÙˆÛŒØª Ú©Ù…ØªØ±ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯) ---
    application.add_handler(MessageHandler(filters.Regex(r'^[Ø¢-ÛŒ]$') & filters.ChatType.GROUPS, handle_letter_guess))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND & filters.ChatType.PRIVATE, handle_anonymous_message))
    application.add_handler(MessageHandler(filters.TEXT & ~filters.COMMAND & filters.ChatType.GROUPS, handle_typing_attempt))
    
    # --- Ø³Ø§ÛŒØ± Handler Ù‡Ø§ ---
    application.add_handler(ChatMemberHandler(track_chats, ChatMemberHandler.MY_CHAT_MEMBER))
    
    logger.info("Bot is starting with the new refactored logic...")
    application.run_polling()

if __name__ == "__main__":
    main()
